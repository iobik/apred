(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/projects/apred/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"063d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACWCAIAAAB2EXwkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAmBJREFUeNrs3T1OG0EAgFE7QqF1kcYcgBqJA3i3D2fAVWrfAI5ASyr7CAj3LA21EZ2rrZIGJCSqpCEToYjIkGCS2WF29b4SiWWGJ8/+aOXpH/f0xr3zL2AgBgzEgIEYMBADBmLAQAwYiAEDMWAgBgz0TBsZjun9YPBhZ6eJI18vFt9vbxm8XAD4eHbWxJHnZfmlqqxFYsBADBiIAQM9X78t711/ur9/7a987vd9DsSAgRgw0NpFeG66V1XD0SjusBq6pPmHi6u/9/X8/LQofA6sRWLAQAwYiIH7g19dTCabg8HvP9kej7f399c/wnI2W06nCWY7L8u44/wW402ZCAY3i8XKT4avvG25q+s0r5ys/JVMxmktcj4QAwZiwEAMGIgBAzFgIAYMxICBGDAQAwZiwEAMGIgBAzFgIAYMxICBGDAQAwZiwEAMGIgBA61fFvuAbBVF7/Aw+mF3Xzrm1n9/FV13DIajUfRvJfxpcHBgLRIDBmLAQG9rkOFefDnPqxGDq6Oj5WzWMYAwozCvNq1F1XjcJYYwlzCj9p0POsPQKEDj5+QOMDQNkOK6qNUMCQASXZteTCY3l5etA6hPThIAJDIIl3SnRdEuhjDaNADp7tHaxRDGGUab7C4n3X1yWxgSA6R+VpE/Q3qAnv0yc8gzOwZiwEAMGIgBAzFgoMc28hzWboxXgJ8eZDmd3tV1bpPN9HlR9A2/H5qXZZrN8KxFzgdiwEAMGIgBAzFoaZk+q1jZ+D5W10+2nWfwxzJ8omAtYiAGDMSAgRgwEAMGYsBADBiIAQMxYCAGDJS2HwIMAK+RvsulC4ZHAAAAAElFTkSuQmCC"},1475:function(t,e,a){},"1a5b":function(t,e,a){"use strict";var i=a("a421"),s=a.n(i);s.a},"1f7f":function(t,e,a){},"2d37":function(t,e,a){"use strict";var i=a("630c"),s=a.n(i);s.a},"30be":function(t,e,a){"use strict";var i=a("fc79"),s=a.n(i);s.a},"56a2":function(t,e,a){t.exports=a.p+"img/pin.36c21bfd.png"},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),s=a.n(i);s.a},"5cf1":function(t,e,a){},"5d9a":function(t,e,a){"use strict";var i=a("975c"),s=a.n(i);s.a},"5e09":function(t,e,a){},"630c":function(t,e,a){},6445:function(t,e,a){"use strict";var i=a("6a50"),s=a.n(i);s.a},"6a50":function(t,e,a){},"7b93":function(t,e,a){"use strict";var i=a("5cf1"),s=a.n(i);s.a},"828a":function(t,e,a){"use strict";var i=a("5e09"),s=a.n(i);s.a},"8be1":function(t,e,a){"use strict";var i=a("1f7f"),s=a.n(i);s.a},"92a8":function(t,e,a){},"975c":function(t,e,a){},"99d7":function(t,e,a){"use strict";var i=a("d5e2"),s=a.n(i);s.a},"9c0c":function(t,e,a){},"9d85":function(t,e,a){"use strict";var i=a("a352"),s=a.n(i);s.a},a352:function(t,e,a){},a421:function(t,e,a){},a9d8:function(t,e,a){"use strict";var i=a("92a8"),s=a.n(i);s.a},b170:function(t,e,a){"use strict";var i=a("bd86"),s=a.n(i);s.a},bd86:function(t,e,a){},be11:function(t,e,a){},be34:function(t,e,a){"use strict";var i=a("be11"),s=a.n(i);s.a},cd49:function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("159b"),a("ddb0"),a("2b3d"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=(a("0fae"),a("b2d6")),n=a.n(s),r=a("5c96"),o=a.n(r),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],u=(a("4de4"),a("6612")),p=a.n(u),d=a("60a3");d["c"].filter("formatNumber",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0,0";return p()(t).format(e)}));var h={name:"App",mounted:function(){this.active=this.$route.meta.menu},watch:{$route:function(){this.$route.meta.menu&&(this.active=this.$route.meta.menu)}}},y=h,m=(a("5c0b"),a("2877")),f=Object(m["a"])(y,l,c,!1,null,null,null),v=f.exports,b=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("TopMenu"),t.fips?a("CountyDetail",{attrs:{fips:t.fips}}):t._e(),t.mountmap?a("CountyMap",{directives:[{name:"show",rawName:"v-show",value:t.showmap,expression:"showmap"}],on:{select:t.changeFips}}):t._e()],1)},_=[],w=(a("99af"),a("d81d"),a("e439"),a("d4ec")),j=a("bee2"),O=a("257e"),x=a("262e"),C=a("2caf"),k=a("ade3"),D=a("63ae"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"topmenu"}},[a("div",{staticClass:"page"},[t._m(0),t.$root.user?t._e():a("el-button",{staticClass:"pull-right",attrs:{size:"small"},on:{click:t.login}},[t._v("Log In")]),t.$root.user?t._e():a("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"primary"},on:{click:t.signup}},[t._v("Sign Up")]),t.$root.user?a("el-button",{staticClass:"pull-right",attrs:{size:"small"},on:{click:t.signout}},[t._v("Sign Out")]):t._e(),t.$root.user?a("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"success"},on:{click:t.settings}},[t._v("Settings")]):t._e(),t._m(1),a("p",{staticClass:"title"},[a("el-tag",{staticClass:"beta",attrs:{effect:"dark",type:"info",size:"mini"}},[a("b",[t._v("BETA")])]),t._m(2),a("span",{staticClass:"sub-title"},[t._v("Analysis Platform for Risk, Resilience and Expenditure in Disasters")])],1),a("p",{staticClass:"disclaimer"},[t._v("For testing purposes only. Not for public use or for supporting current EDA applications.")])],1)])},E=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"https://iu.edu"}},[i("img",{staticClass:"trident",attrs:{src:a("063d"),height:"50px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pull-right",staticStyle:{"font-weight":"bold",top:"15px"}},[a("a",{staticStyle:{color:"inherit"},attrs:{href:"https://ctil.iu.edu/"}},[t._v("CTIL")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://ctil.iu.edu/projects/apred-landing"}},[a("b",{staticStyle:{color:"#900"}},[t._v("APRED")])])}],A=a("9ab4"),L=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.call(this),t.app="prod","localhost"==document.location.hostname&&(t.app="dev"),t}return Object(j["a"])(a,[{key:"signup",value:function(){alert("Sign up is only applicable for EDA staff. Please contact APRED team for more information.")}},{key:"login",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/login?app="+this.app}},{key:"settings",value:function(){document.location.href="https://api.ctil.iu.edu/auth/#!/settings/account?app="+this.app}},{key:"signout",value:function(){this.$root.signout()}}]),a}(d["c"]);L=Object(A["a"])([d["a"]],L);var I,$,P,T,R,M,N,z,B,F,H,G=L,Y=G,U=(a("8be1"),Object(m["a"])(Y,S,E,!1,null,"fb1fcef2",null)),V=U.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.detail?a("div",{ref:"scrolled-area",on:{scroll:t.handleScroll}},[a("div",{staticClass:"header"},[a("div",{staticClass:"page"},[a("div",{staticClass:"toolset"},[a("CountySelecter",{staticStyle:{width:"180px"},attrs:{placeholder:"Search other County"},on:{select:function(e){t.fips=e}}}),t._v(" or "),a("el-button",{staticStyle:{"margin-left":"10px"},on:{click:t.compare}},[t._v("Compare Counties")])],1),a("h3",{staticStyle:{"font-weight":"normal","margin-right":"300px"}},[a("el-button",{staticClass:"back-button",attrs:{type:"primary",circle:"",icon:"el-icon-back"},on:{click:function(e){return t.goback()}}}),t._v(" "),a("span",{staticClass:"important"},[a("b",[t._v(t._s(t.detail.county))]),t._v(" county,")]),t._v(" "+t._s(t.detail.state)+" ")],1),a("br",{attrs:{clear:"both"}}),a("el-tabs",{on:{"tab-click":t.scroll2top},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{name:"info",label:"County Detail"}}),a("el-tab-pane",{attrs:{name:"disaster",label:"Disaster Declarations ("+t.history.length+")"}}),t.detail.bvis2?a("el-tab-pane",{attrs:{name:"bvi",label:"Business Vulnerability"}}):t._e(),a("el-tab-pane",{attrs:{name:"resilience",label:"Disaster Resilience"}}),a("el-tab-pane",{attrs:{name:"storms",label:"Storm History"}})],1)],1)]),"info"==t.tab?a("div",{staticClass:"page"},[a("br"),a("div",{staticClass:"overview"},[a("p",[t._v("This page presents information on measuring distress indicators, economic, and demographic data for "),a("b",[t._v(t._s(t.detail.county)+" County, "+t._s(t.detail.state))]),t._v(".")])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Population"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/popest.html",target:"census"}},[t._v("(Census Bureau 2019)")])])]),t.detail.population?a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.detail.population)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.population,histogram:t.$root.populationHistogram,fips:t.fips,state:t.detail.state,xunit:"people"}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Population Density"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2019)")])])]),t.detail.popdensity?a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.detail.popdensity))+" people per sq. mile")]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.popdensity,histogram:t.$root.popdensityHistogram,fips:t.fips,state:t.detail.state,xunit:"people per sq. mile"}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Population History"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/popest.html",target:"census"}},[t._v("(Census Bureau)")])])])]),a("el-col",{attrs:{span:19}},[a("ExportablePlotly",{attrs:{data:t.demoGraphData,layout:t.demoGraphLayout}}),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Racial Makeup History"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/popest.html",target:"census"}},[t._v("(Census Bureau)")])])])]),a("el-col",{attrs:{span:19}},[a("ExportablePlotly",{attrs:{data:t.orGraphData,layout:t.orGraphLayout}}),a("br"),a("br")],1)],1),a("hr"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("GDP"),a("br"),a("small",[a("a",{attrs:{href:"https://www.bea.gov/",target:"bea"}},[t._v("(BEA)")])])]),t.detail.gdp?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.gdp/1e3))+" M")]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")]),a("br")]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.gdp,histogram:t.$root.gdpHistogram,fips:t.fips,state:t.detail.state,xunit:"dollars"}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Per Capita Income"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2018)")])])]),t.detail.percapitaincome?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.percapitaincome)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.percapitaincome,histogram:t.$root.perCapitaIncomeHistogram,fips:t.fips,state:t.detail.state,xunit:"dollars per capita"}}):t._e(),a("br"),a("br")],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Median Household Income"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(ACS 2018)")])])]),t.detail.medianincome?a("span",{staticClass:"primary"},[t._v(" $"+t._s(t._f("formatNumber")(t.detail.medianincome)))]):a("span",{staticStyle:{padding:"10px 0",opacity:"0.5"}},[t._v("No information")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("Histogram",{attrs:{value:t.detail.medianincome,histogram:t.$root.medianIncomeHistogram,fips:t.fips,state:t.detail.state,xunit:"dollars"}}):t._e(),a("br"),a("br")],1)],1),a("hr"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Per Capita Money Income"),a("br"),a("small",[a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs",target:"acs"}},[t._v("(5-year ACS)")])])])]),a("el-col",{attrs:{span:19}},[a("p",[a("ExportablePlotly",{attrs:{data:t.pcmGraphData,layout:t.pcmGraphLayout}}),a("small",[t._v("The amount of money (only cash sources) earned per person. Released annually in December.")])],1),a("br"),a("br")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Per Capita Personal Income"),a("br"),a("small",[a("a",{attrs:{href:"https://www.bea.gov/",target:"bea"}},[t._v("(BEA)")])])])]),a("el-col",{attrs:{span:19}},[a("p",[a("ExportablePlotly",{attrs:{data:t.pcpGraphData,layout:t.pcpGraphLayout}}),a("small",[t._v("An estimate of income per person that includes not only cash sources of income, but also insurance, transfer payments, dividends, interest, and rent. Released annually in the spring.")])],1),a("br")])],1),t.detail.industries?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v("Top Industries")])]),a("el-col",{attrs:{span:19}},[a("ExportablePlotly",{attrs:{data:t.industryGraphData,layout:t.industryGraphLayout}}),a("br"),a("br")],1)],1):t._e(),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("h4",[t._v(" Unemployment Rate"),a("br"),a("small",[t._v("(24-month avg. BLS)")])]),a("div",[a("h5",[t._v("US Average")]),a("span",{staticClass:"primary",staticStyle:{color:"gray"}},[t._v(" "+t._s(t._f("formatNumber")(t.unempRateUS,"0.00"))+"%")])]),a("div",[a("h5",[a("b",[t._v(t._s(t.detail.county))]),t._v(" County")]),a("span",{staticClass:"primary"},[t._v(" "+t._s(t._f("formatNumber")(t.unempRateCounty,"0.00"))+"%")]),a("br"),t.unempRateUS<t.unempRateCounty?a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("Above US Rate")]):t._e()],1),a("div",{staticStyle:{opacity:"0.6"}},[a("h5",[t._v("Report Date")]),t._v(" "+t._s(new Date(t.unempRateDate).toLocaleDateString("en-US",{timeZone:"UTC"}))+" ")])]),a("el-col",{attrs:{span:19}},[t.$root.commonReady?a("p",[a("ExportablePlotly",{attrs:{data:t.urGraphData,layout:t.urGraphLayout}}),a("small",[t._v("Calculated by taking the sum of unemployed persons for one geography for the previous 24 months divided by the sum of the labor force for that geography for the previous 24 months. Released monthly as part of the Local Area Unemployment Statistics (LAUS) program.")])],1):t._e(),a("p",[a("el-button",{attrs:{round:"",size:"small"},on:{click:function(e){t.showEmploymentHistory=!t.showEmploymentHistory}}},[t.showEmploymentHistory?t._e():a("i",{staticClass:"el-icon-caret-right"}),t.showEmploymentHistory?a("i",{staticClass:"el-icon-caret-bottom"}):t._e(),t._v(" Show Employment History ")]),t.$root.commonReady&&t.showEmploymentHistory?a("ExportablePlotly",{attrs:{data:t.uGraphData,layout:t.uGraphLayout}}):t._e()],1),a("br")])],1),a("br"),a("hr"),a("div",[a("el-link",{attrs:{type:"primary",target:"json."+t.fips,href:t.$root.dataUrl+"/counties/county."+t.fips+".json"}},[t._v("Download County Detail (.json)")])],1),a("h3",[t._v("Data Sources")]),t._m(0),a("h3",[t._v("Additional Resources")]),t._m(1)],1):t._e(),"disaster"==t.tab?a("div",{staticClass:"page"},[a("br"),a("div",{staticClass:"overview"},[a("p",[t._v(" This page provides information on FEMA Disaster Declarations for "),a("b",[t._v(t._s(t.detail.county)+" County")]),t._v(" from 1954 to 2020. It also presents information on EDA Disaster Supplemental Awards provided to eligible counties from 2012 to 2020. Only FEMA Disaster Declarations are displayed (not Emergency Declarations). ")])]),0==t.recentHistory.length?a("p",{staticStyle:{opacity:"0.8"}},[t._v("No disaster declared since 2017")]):t._e(),t._l(t.recentHistory,(function(e,i){return a("div",{key:i,staticClass:"history"},[a("Event",{attrs:{event:e}},[i<t.recentHistory.length?a("div",{staticStyle:{padding:"10px 0"}},[t.$root.user&&t.is2018Eligible(e)?a("Eligibility2018"):t._e(),t.$root.user&&(t.is2019Eligible(e)||t.is2019FloodEligible(e))?a("Eligibility2019"):t._e()],1):t._e()])],1)})),t.showPastHistory?t._e():a("div",{staticStyle:{"border-top":"2px solid #f3f3f3","margin-left":"230px"}},[a("br"),a("el-button",{attrs:{round:""},on:{click:function(e){t.showPastHistory=!t.showPastHistory}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Show Old Disaster Declarations ("+t._s(t.pastHistory.length)+") ")])],1),t.showPastHistory?a("div",t._l(t.pastHistory,(function(t,e){return a("Event",{key:e,staticClass:"history",attrs:{event:t}})})),1):t._e(),a("br"),a("h3",[t._v("Data Sources")]),t._m(2),a("h3",[t._v("Additional Resources")]),t._m(3)],2):t._e(),"bvi"==t.tab?a("div",{staticClass:"page"},[a("br"),a("div",{staticClass:"overview"},[a("p",[t._v(" The Business Vulnerability Index (BVI) presents information on the "),a("b",[t._v("percentage of businesses in "+t._s(t.detail.county)+" County")]),t._v(" that is believed to be most vulnerable to various natural disasters. Businesses that we identified to be especially vulnerable to a disaster have the following characteristics: ")]),t._m(4),a("p",[t._v("This information will "),a("b",[t._v("help practitioners and policymakers")]),t._v(" in "+t._s(t.detail.county)+" County to know the business sectors that "),a("b",[t._v("deserve more attention")]),t._v(" in terms of disaster resiliency planning. ")])]),t._m(5),a("br",{attrs:{clear:"both"}}),a("br"),a("br"),t._l(t.bvi2,(function(e,i){return a("div",{key:i},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:i}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Establishments")])]),a("ExportablePlotly",{attrs:{data:e.estPlotly,layout:t.bviLayout}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Employment")])]),a("ExportablePlotly",{attrs:{data:e.empPlotly,layout:t.bviLayout}})],1)],1)],1)})),!t.showNonvBVI&&Object.keys(t.bvi2_nonv).length>0?a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),a("el-button",{attrs:{round:""},on:{click:function(e){t.showNonvBVI=!t.showNonvBVI}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Show Non-vulnerable Sectors ("+t._s(Object.keys(t.bvi2_nonv).length)+") ")])],1):t._e(),t.showNonvBVI?a("div",{staticStyle:{"border-top":"2px solid #f3f3f3"}},[a("br"),t._l(t.bvi2_nonv,(function(e,i){return a("div",{key:i},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:i}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Establishments")])]),a("ExportablePlotly",{attrs:{data:e.estPlotly,layout:t.bviLayout}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Employment")])]),a("ExportablePlotly",{attrs:{data:e.empPlotly,layout:t.bviLayout}})],1)],1)],1)}))],2):t._e(),a("br",{attrs:{clear:"both"}})],2):t._e(),"resilience"==t.tab?a("div",{staticClass:"page"},[a("br"),a("div",{staticClass:"overview"},[a("p",[t._v(" The Disaster Resilience Index "),a("b",[t._v("measures the capacity of "+t._s(t.detail.county)+" County to recover from disaster events")]),t._v(" without losing its socioeconomic capacity. This information will help practitioners and policymakers to see where there are strengths and weaknesses within "+t._s(t.detail.county)+" county in the context of vulnerability to disaster events. These insights are also useful for performing a "),a("b",[t._v("SWOT Analysis for economic recovery")]),t._v(". ")]),t._m(6)]),t._m(7),t._l(t.detail.cutter2,(function(e,i){return a("div",{key:i,staticClass:"indicator",staticStyle:{"margin-bottom":"15px",clear:"both"}},[a("div",{staticClass:"indicator-header"},[a("b",{staticClass:"indicator-name"},[t._v(t._s(e.name))]),a("p",{staticClass:"indicator-detail"},[a("IndicatorInfo",{attrs:{id:i}})],1)]),t._l(t.detail.cutter2[i].sources.filter((function(t){return t.stats})),(function(e){return a("div",{key:e.id,staticClass:"measure-info"},[a("p",{staticStyle:{margin:"0"}},[a("b",[t._v(t._s(e.name))])]),a("p",{staticStyle:{"min-height":"50px",margin:"0"}},[t._v(" "+t._s(t.$root.drMeasures[e.id].desc)+" ")]),t.detail?a("CompositePlot",{attrs:{cutters:e.stats,edaAwards:t.detail.eda2018}}):t._e(),a("br"),a("p",[a("el-button",{attrs:{size:"mini",round:""},on:{click:function(a){return t.toggleMeasureDetail(e)}}},[e.showDetail?a("span",[t._v("Hide")]):a("span",[t._v("Show")]),t._v(" Detail ")])],1),a("slide-up-down",{attrs:{active:e.showDetail}},[a("small",[t._v(" "+t._s(t.$root.drMeasures[e.id].calcDesc)+" ")])])],1)})),a("br",{attrs:{clear:"both"}})],2)}))],2):t._e(),"storms"==t.tab?a("div",{staticClass:"page"},[a("br"),t.stormData&&t.stormData.length>0?a("div",[a("div",{staticClass:"overview"},[a("p",[t._v("This graph shows the counts of storm events for "),a("b",[t._v(t._s(t.detail.county)+" County")]),t._v(" published by NOAA since 1950s.")]),t._m(8),a("p",[t._v("You can click on the chart legend to select or deselect which storm events to show on the graph.")])]),a("ExportablePlotly",{attrs:{data:t.stormData,layout:t.stormLayout}})],1):a("p",[t._v("No storm data")]),a("br"),a("br"),a("br")]):t._e(),a("br"),a("br"),a("br"),a("br"),a("br"),a("Footer")],1):t._e()},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("ol",[a("li",[t._v("Data for population estimate, population density, per capita income, and median household income were generated from the "),a("a",{attrs:{href:"https://www.census.gov/programs-surveys/acs/"}},[t._v("American Community Survey (ACS)")]),t._v(".")]),a("li",[t._v("GDP data was generated from the "),a("a",{attrs:{href:"https://www.bea.gov/"}},[t._v("Business of Economic Analysis (BEA)")]),t._v(".")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("ol",[a("li",[t._v("Measuring Distress Platform "),a("a",{attrs:{href:"https://www.statsamerica.org/distress/distress.aspx"}},[t._v("(StatsAmerica)")]),t._v(".")]),a("li",[t._v("USA Opportunity Zones "),a("a",{attrs:{href:"https://www.statsamerica.org/opportunity/"}},[t._v("(StatsAmerica)")]),t._v(".")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" Data for the disaster declaration was generated from the "),a("a",{attrs:{href:"https://www.fema.gov/disasters/disaster-declarations"}},[t._v(" FEMA website")]),t._v(" and is updated daily. Data for the EDA award was obtained from the EDA and is updated as the data becomes available. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("ol",[a("li",[t._v("FEMA Hazard Mitigation Plan Status "),a("a",{attrs:{href:"https://fema.maps.arcgis.com/apps/webappviewer/index.html?id=ec2fb023df744cf480da89539338c386"}},[t._v("(FEMA)")]),t._v(".")]),a("li",[t._v("Resilience Analysis and Planning Tool (RAPT)"),a("a",{attrs:{href:"https://fema.maps.arcgis.com/apps/webappviewer/index.html?id=90c0c996a5e242a79345cdbc5f758fc6"}},[t._v("(FEMA)")]),t._v(".")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("ol",[a("li",[t._v("dependent on supply chains.")]),a("li",[t._v("have a high reliance on public utilities like water and electricity.")]),a("li",[t._v("or have a large infrastructure footprint and low infrastructure mobility.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plot-legend"},[a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#999"}}),t._v(" Not Vulnerable "),a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#900"}}),t._v(" Vulnerable ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" The resilience scores are calculated using information collected by the "),a("a",{attrs:{href:"https://data.census.gov/cedsci/"}},[t._v("U.S. Census")]),t._v(" and the framework provided by "),a("a",{attrs:{href:"http://resiliencesystem.com/sites/default/files/Cutter_jhsem.2010.7.1.1732.pdf"}},[t._v("[Cutter et al. 2010]")]),t._v(". ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plot-legend"},[a("div",{staticClass:"color-box",staticStyle:{height:"4px","background-color":"#409eff"}}),t._v(" This County "),a("div",{staticClass:"color-box",staticStyle:{"background-color":"#09f5"}}),t._v(" State Average(+standard deviation) "),a("div",{staticClass:"color-box",staticStyle:{"background-color":"#0003"}}),t._v(" US Average(+standard deviation) ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Storm data has gone through many changes and versions over the years. The source data ingested into the database are widely varied and leads to many questions about the precision and accuracy of the location data. Please see "),a("a",{attrs:{href:"https://www.ncdc.noaa.gov/stormevents/details.jsp",target:"noaa"}},[t._v("https://www.ncdc.noaa.gov/stormevents/faq.jsp")]),t._v(" for more detail.")])}],q=(a("caad"),a("c975"),a("13d5"),a("a434"),a("b0c0"),a("b680"),a("2532"),a("5319"),a("6b7b")),J=(a("f890"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"event",class:t.eventClass},[a("div",{staticClass:"event-header"},[a("div",{staticClass:"left-content"},["eda2018"==t.event.type?a("div",{staticClass:"event-date"},[a("small",{staticStyle:{opacity:"0.6"}},[t._v("grant awarded on ")]),t._v(" "),a("time",{attrs:{title:"Grant Award Date"}},[t._v(t._s(new Date(t.event.grant_award_date).toLocaleDateString()))])]):t._e(),"dr"==t.event.type?a("div",[a("div",{staticClass:"event-date"},[a("time",{attrs:{title:"Incident Begin Date"}},[t._v(t._s(new Date(t.event.incidentBeginDate).toLocaleDateString()))]),a("small",[t.event.incidentEndDate?a("time",{attrs:{title:"Incident End Date"}},[t._v(" to "+t._s(new Date(t.event.incidentEndDate).toLocaleDateString()))]):a("span",[t._v(" - ongoing")])])]),a("p",{staticStyle:{float:"right"}},[t.event.statewide?a("el-tag",{attrs:{type:"info"}},[t._v("STATEWIDE")]):t._e(),t.event.tribe?a("el-tag",{attrs:{type:"info"}},[t._v(t._s(t.event.designatedArea))]):t._e()],1)]):t._e()]),a("div",{staticStyle:{"margin-left":"200px"}},[a("div",{staticClass:"event-icon"},["dr"==t.event.type?a("span",{style:t.eventIconStyle},[a("i",{staticClass:"el-icon-warning"})]):"eda2018"==t.event.type?a("span",{staticClass:"eda2018",class:{"eda2018-state":t.event.statewide,"eda2018-county":!t.event.statewide}},[a("i",{staticClass:"el-icon-money",staticStyle:{"background-color":"green","border-radius":"50%",color:"white"}})]):t._e()]),a("div",{staticStyle:{float:"right","margin-top":"8px"}},["dr"==t.event.type?a("a",{attrs:{href:"https://www.fema.gov/disaster/"+t.event.disasterNumber,target:"fema"}},[a("el-tag",{attrs:{size:"small",effect:"plain",type:"info"}},[t._v("Disaster # "+t._s(t.event.disasterNumber))])],1):t._e(),"eda2018"==t.event.type?a("a",[a("el-tag",{staticStyle:{float:"right"},attrs:{size:"small",effect:"dark",type:"success"}},[t._v("FAIN "+t._s(t.event.fain))])],1):t._e()]),"dr"==t.event.type?a("h3",{staticClass:"event-type",style:t.eventIconStyle},[a("b",[t._v(t._s(t.event.incidentType))]),t._v(" "),a("br")]):"eda2018"==t.event.type?a("h3",{staticClass:"eda2018 event-type",class:{"eda2018-state":t.event.statewide,"eda2018-county":!t.event.statewide}},[t.event.statewide?a("b",[t._v("Statewide")]):t._e(),t._v(" EDA 2018 Disaster Supplemental Award "),a("span",{staticStyle:{opacity:"0.5"}},[t._v(" | ")]),t._v(" $"+t._s(t._f("formatNumber")(t.event.award_amount))+" "),t.event.counties.length?a("el-tag",{attrs:{type:"info",effect:"plain",size:"small"}},[t._v("Multi-county("+t._s(t.event.counties.length)+")")]):t._e()],1):t._e()])]),a("div",{staticClass:"event-body"},["dr"==t.event.type?a("div",[a("p",{staticStyle:{opacity:"0.9","font-style":"italic",margin:"0",padding:"10px 0"}},[t._v(t._s(t.event.declarationTitle))]),a("h3",{style:t.eventIconStyle},[a("span",[t.event.hmProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",type:"warning"}},[a("a",{attrs:{href:"https://www.fema.gov/grants/mitigation/hazard-mitigation",target:"fema"}},[t._v("Hazard Mitigation")])]):t._e(),t._v(" "),t.event.ihProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",type:"danger"}},[a("a",{attrs:{href:"https://www.fema.gov/assistance/individual/program",target:"fema"}},[t._v("Individuals and Households")])]):t._e(),t._v(" "),t.event.iaProgramDeclared?a("el-tag",{staticClass:"program-tag",attrs:{size:"mini",title:"Individual Assistance Program"}},[a("a",{attrs:{href:"https://www.fema.gov/assistance/individual",target:"fema"}},[t._v("Individual Assistance")])]):t._e()],1)]),t._t("default")],2):"eda2018"==t.event.type?a("div",{staticStyle:{"margin-top":"8px"}},[a("small",[t._v("To")]),t._v(" "),t._v(t._s(t.event.grantee_name)+", "+t._s(t.event.grantee_city)+", "+t._s(t.event.grantee_state)),a("br"),a("br"),a("small",[t._v("For")]),t._v(" "+t._s(t.event.grant_purpose)+" "),a("br"),a("br"),a("small",[t._v("Regional Office")]),t._v(" "+t._s(t.event.eda_regional_office)+" "),t._t("default")],2):a("div",[t._v(" "+t._s(t.event)+" ")])])])}),Q=[],X=(a("498a"),a("3e84")),K=(I=Object(d["a"])({components:{SlideUpDown:X["a"]}}),$=Object(d["b"])({type:Object}),I((M=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(q["a"])(Object(O["a"])(t),"event",R,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"show_pa",!1),t}return Object(j["a"])(a,[{key:"totalPA",value:function(t){return t.reduce((function(t,e){return t+e.projectAmount}),0)}},{key:"eventClass",get:function(){var t=[];return"dr"==this.event.type&&(this.event.statewide&&t.push("dr-state"),this.event.tribe?t.push("dr-tribe"):t.push("dr-county")),t}},{key:"eventDateTitle",get:function(){return"eda2018"==this.event.type?"Grant Award Date":"Incident Date"}},{key:"eventIconStyle",get:function(){var t=this.$root.layers["other"].color,e=this.event.incidentType.toLowerCase();return~e.indexOf("(")&&(e=e.substring(0,e.indexOf("("))),e=e.trim(),this.$root.layers[e]&&(t=this.$root.layers[e].color),{color:t}}}]),a}(d["c"]),T=M,R=Object(D["a"])(T.prototype,"event",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T))||P),tt=K,et=(a("7b93"),Object(m["a"])(tt,J,Q,!1,null,"5a5a1d3d",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["SOC"==t.id?a("p",[t._v(" Social resilience deals with attributes of the individual members of communities. ")]):"ECON"==t.id?a("p",[t._v(" Economic resilience deals with the financial and economic factors that contribute to the resilience of communities. ")]):"INST"==t.id?a("p",[t._v(" TODO - describe this index ")]):"IHFR"==t.id?a("p",[t._v(" Infrastructure resilience deals with physical structures (housing, shelter, medical capacity, etc.) that exist within communities. ")]):"COMM"==t.id?a("p",[t._v(" Community Capital deals with the relationships between the individual and the community as a whole. ")]):"FLOR"==t.id?a("p",[t._v(" TODO - describe this index ")]):t._e()])},st=[],nt=(N=Object(d["b"])({default:null,type:String}),Object(d["a"])((H=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(q["a"])(Object(O["a"])(t),"id",F,Object(O["a"])(t)),t}return a}(d["c"]),B=H,F=Object(D["a"])(B.prototype,"id",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=B))||z),rt=nt,ot=(a("be34"),Object(m["a"])(rt,it,st,!1,null,"7cd5238a",null)),lt=ot.exports,ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"page"},[a("p",[t._v(" This platform brings data science to decision-makers dealing with the economics of disaster mitigation, analysis, and recovery activities. ")]),a("p",[a("i",[t._v("This publication was prepared by the CTIL and IBRC at Indiana University using federal funds awarded to the Trustees of Indiana University and as a sub-component under award number ED17HDQ3120040 from the U.S. Economic Development Administration, U.S. Department of Commerce. The statements, findings, conclusions, and recommendations are those of the author(s) and do not necessarily reflect the views of the Economic Development Administration or the U.S. Department of Commerce.")])]),a("div",{staticStyle:{float:"right"}},[a("a",{attrs:{href:"mailto:ctil@iu.edu"}},[t._v("ctil@iu.edu")]),t._v(" | "),a("a",{attrs:{href:"mailto:ctil@iu.edu"}},[t._v("Contact Us")])]),a("h3",[a("a",{attrs:{href:"https://ctil.iu.edu/"}},[t._v("CTIL")]),t._v(" "),a("small",[t._v("Crisis Technologies Innovation Lab")])])]),a("br"),a("br")])}],pt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){return Object(w["a"])(this,a),e.apply(this,arguments)}return a}(d["c"]);pt=Object(A["a"])([d["a"]],pt);var dt=pt,ht=dt,yt=(a("a9d8"),Object(m["a"])(ht,ct,ut,!1,null,"5a98ce7e",null)),mt=yt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 1000 270",height:"150px",width:"450px"}},[a("g",[t._l(t.years,(function(e,i){return a("line",{key:e,staticStyle:{stroke:"rgb(175,175,175)","stroke-width":"0.5"},attrs:{x1:t.itox(i),y1:"20",x2:t.itox(i),y2:t.ptoy(t.ymin)}})})),t._l(t.yticks,(function(e,i){return a("line",{key:i,staticStyle:{stroke:"rgb(175, 175, 175)","stroke-width":"0.5"},attrs:{x1:120,y1:t.ptoy(e),x2:1e3,y2:t.ptoy(e)}})}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:120,y1:t.ptoy(t.ymin),x2:1e3,y2:t.ptoy(t.ymin)}}),t._l(t.years,(function(e,i){return a("text",{key:e,staticClass:"ticks",attrs:{x:t.itox(i),"text-anchor":"middle",y:t.height}},[t._v(t._s(e))])}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:"120",y1:t.ptoy(t.ymin),x2:"120",y2:t.ptoy(t.ymax)}}),t._l(t.yticks,(function(e,i){return a("text",{key:i,staticClass:"ticks",attrs:{x:100,y:t.ptoy(e)+8,"text-anchor":"end"}},[t._v(t._s((100*e).toFixed(t.fixed))+" %")])}))],2),a("g",[a("path",{attrs:{d:t.sdevPath(t.cutters.us.avg,t.cutters.us.sdev,t.lineCommand),fill:"#0002",stroke:"none"}}),a("path",{attrs:{d:t.svgPath(t.cutters.us.avg,t.lineCommand),fill:"none",stroke:"#0005","stroke-width":"2"}})]),a("g",[a("path",{attrs:{d:t.sdevPath(t.cutters.states.avg,t.cutters.states.sdev,t.lineCommand),fill:"#09f4",stroke:"none"}}),a("path",{attrs:{d:t.svgPath(t.cutters.states.avg,t.lineCommand),fill:"none",stroke:"#09f8","stroke-width":"2"}})]),a("g",[a("path",{attrs:{d:t.svgPath(t.cutters.county,t.lineCommand),fill:"none",stroke:"#409EFF","stroke-width":"3"}}),t._l(t.cutters.county,(function(e,i){return a("g",{key:i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"10",stroke:"#409EFF","stroke-width":"4",fill:"white"}}),a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)-30,"text-anchor":"middle"}},[t._v(t._s((100*e).toFixed(t.fixed+1))+"%")])])}))],2)])])},vt=[],bt=(a("c7cd"),a("99de")),gt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a),t=e.call(this),t.height=300,t.ymax=null,t.ymin=null,t.fixed=0,t.years=[],t.lineCommand=function(e,a){return"L ".concat(t.itox(a)," ").concat(t.ptoy(e))};for(var i=2012;i<=2018;++i)t.years.push(i);var s=function(e,a){e.forEach((function(e,i){if(null!=e){var s=e,n=e;a&&(s-=a[i],n+=a[i]),(null===t.ymin||t.ymin>s)&&(t.ymin=s),(null===t.ymax||t.ymax<n)&&(t.ymax=n)}}))};if(s(t.cutters.county),s(t.cutters.states.avg,t.cutters.states.sdev),s(t.cutters.us.avg,t.cutters.us.sdev),null==t.ymin)return Object(bt["a"])(t);if(null==t.ymax)return Object(bt["a"])(t);var n=t.ymax-t.ymin;return t.ymax+=n/5,t.ymin-=n/5,t}return Object(j["a"])(a,[{key:"ptoy",value:function(t){if(null!=this.ymin&&null!=this.ymax){var e=(t-this.ymin)/(this.ymax-this.ymin);return this.height-30-(this.height-40)*e}}},{key:"itox",value:function(t){return 800/(this.years.length-1)*t+150}},{key:"t2x",value:function(t){var e=new Date(t),a=new Date("2012-01-01").getTime(),i=new Date("2020-01-01").getTime(),s=i-a,n=850/s*(e.getTime()-a)+100;return n}},{key:"a2h",value:function(t){return t/1e5+1}},{key:"sdevPath",value:function(t,e,a){for(var i="",s=0;s<t.length;++s)i+=0==s?"M "+this.itox(s)+","+this.ptoy(t[s]+e[s]):a(t[s]+e[s],s);for(var n=t.length-1;n>=0;--n)i+=a(t[n]-e[n],n);return i}},{key:"svgPath",value:function(t,e){var a=this,i=t.reduce((function(t,i,s){return 0===s?"M ".concat(a.itox(s),",").concat(a.ptoy(i)):"".concat(t," ").concat(e(i,s))}),"");return i}},{key:"yticks",get:function(){if(null==this.ymin)return[];if(null==this.ymax)return[];var t=[],e=this.ymax-this.ymin,a=e/4;e<.025&&(this.fixed=2);for(var i=Math.round(this.ymin/a)*a,s=this.ymax,n=i;n<=s;n+=a){var r=this.ptoy(n);void 0!==r&&r>this.height-30||t.push(n)}return t}}]),a}(d["c"]);Object(A["a"])([Object(d["b"])()],gt.prototype,"edaAwards",void 0),Object(A["a"])([Object(d["b"])()],gt.prototype,"cutters",void 0),gt=Object(A["a"])([d["a"]],gt);var _t=gt,wt=_t,jt=(a("828a"),Object(m["a"])(wt,ft,vt,!1,null,"40434ea6",null)),Ot=jt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{viewBox:"0 0 1000 270",height:"150px",width:"450px"}},[a("g",[t._l(t.data.years,(function(e,i){return a("line",{key:e,staticStyle:{stroke:"rgb(175,175,175)","stroke-width":"0.5"},attrs:{x1:t.itox(i),y1:"20",x2:t.itox(i),y2:t.ptoy(t.ymin)}})})),t._l(t.yticks,(function(e,i){return a("line",{key:i,staticStyle:{stroke:"rgb(175, 175, 175)","stroke-width":"0.5"},attrs:{x1:120,y1:t.ptoy(e),x2:1e3,y2:t.ptoy(e)}})}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:120,y1:t.ptoy(t.ymin),x2:1e3,y2:t.ptoy(t.ymin)}}),t._l(t.data.years,(function(e,i){return a("text",{key:e,staticClass:"ticks",attrs:{x:t.itox(i)-25,y:t.height}},[t._v(t._s(e))])}))],2),a("g",[a("line",{staticStyle:{stroke:"rgb(100,100,100)"},attrs:{x1:"120",y1:t.ptoy(t.ymin),x2:"120",y2:t.ptoy(t.ymax)}}),t._l(t.yticks,(function(e,i){return a("text",{key:i,staticClass:"ticks",attrs:{x:100,y:t.ptoy(e)+8,"text-anchor":"end"}},[t._v(t._s(t._f("formatNumber")(e)))])}))],2),a("g",[a("path",{attrs:{d:t.fillPath(t.data.total,t.lineCommand),fill:"rgba(0, 0, 0, 0.2)",stroke:"none"}}),a("path",{attrs:{d:t.linePath(t.data.total,t.lineCommand),fill:"none",stroke:"#666","stroke-width":"3"}}),t.data.vul?a("g",[a("path",{attrs:{d:t.fillPath(t.data.vul,t.lineCommand),fill:"#f403",stroke:"none"}}),a("path",{attrs:{d:t.linePath(t.data.vul,t.lineCommand),fill:"none",stroke:"#c00","stroke-width":"3"}}),t._l(t.data.vul,(function(e,i){return a("g",{key:"v-"+i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"7",stroke:"#900","stroke-width":"4",fill:"white"}})])}))],2):t._e(),t._l(t.data.total,(function(e,i){return a("g",{key:"t-"+i,staticClass:"with-tooltip"},[a("circle",{attrs:{cx:t.itox(i),cy:t.ptoy(e),r:"7",stroke:"#666","stroke-width":"4",fill:"white"}})])})),t.data.vul?a("g",t._l(t.data.vul,(function(e,i){return a("g",{key:"vt-"+i,staticClass:"with-tooltip"},[a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)+35,"text-anchor":"middle",fill:"#900"}},[t._v(t._s(t._f("formatNumber")(e)))])])})),0):t._e(),t._l(t.data.total,(function(e,i){return a("g",{key:"tt-"+i,staticClass:"with-tooltip"},[a("text",{staticClass:"tooltip",attrs:{x:t.itox(i),y:t.ptoy(e)-20,"text-anchor":"middle",fill:"#666"}},[t._v(t._s(t._f("formatNumber")(e)))])])}))],2)])])},Ct=[],kt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.apply(this,arguments),t.height=200,t.ymax=null,t.ymin=null,t.fixed=0,t.lineCommand=function(e,a){return"L ".concat(t.itox(a)," ").concat(t.ptoy(e))},t}return Object(j["a"])(a,[{key:"mounted",value:function(){this.ymax=this.data.total.reduce((function(t,e){return Math.max(t,e)})),this.ymax&&this.ymax>100&&(this.ymax=100*Math.floor(this.ymax/100)+100),this.ymin=0}},{key:"ptoy",value:function(t){if(null!=this.ymin&&null!=this.ymax){var e=(t-this.ymin)/(this.ymax-this.ymin);return this.height-40-(this.height-50)*e}}},{key:"itox",value:function(t){return 800/(this.data.total.length-1)*t+150}},{key:"t2x",value:function(t){var e=new Date(t),a=new Date("2012-01-01").getTime(),i=new Date("2020-01-01").getTime(),s=i-a,n=850/s*(e.getTime()-a)+100;return n}},{key:"a2h",value:function(t){return t/1e5+1}},{key:"fillPath",value:function(t,e){for(var a="",i=0;i<t.length;++i)a+=0==i?"M "+this.itox(i)+","+this.ptoy(t[i]):e(t[i],i);for(var s=t.length-1;s>=0;--s)a+=e(0,s);return a}},{key:"linePath",value:function(t,e){var a=this,i=t.reduce((function(t,i,s){return 0===s?"M ".concat(a.itox(s),",").concat(a.ptoy(i)):"".concat(t," ").concat(e(i,s))}),"");return i}},{key:"yticks",get:function(){if(null==this.ymin)return[];if(null==this.ymax)return[];for(var t=[],e=this.ymax-this.ymin,a=e/2.5,i=Math.round(this.ymin/a)*a,s=this.ymax,n=i;n<=s;n+=a){var r=this.ptoy(n);void 0!==r&&r>this.height-30||t.push(n)}return t}}]),a}(d["c"]);Object(A["a"])([Object(d["b"])()],kt.prototype,"data",void 0),kt=Object(A["a"])([d["a"]],kt);var Dt,St,Et,At,Lt,It,$t,Pt,Tt,Rt,Mt,Nt,zt,Bt,Ft,Ht,Gt,Yt,Ut,Vt,Wt,Zt,qt,Jt,Qt,Xt,Kt,te,ee,ae,ie,se,ne,re,oe,le,ce,ue,pe,de,he=kt,ye=he,me=(a("d314"),Object(m["a"])(ye,xt,Ct,!1,null,"0f85f7be",null)),fe=me.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{attrs:{href:"https://www.naics.com/naics-code-description/?code="+t.id,target:"naics_"+t.id}},["11"==t.id?a("span",[t._v("Agriculture, Forestry, Fishing and Hunting")]):t._e(),"21"==t.id?a("span",[t._v("Mining")]):t._e(),"22"==t.id?a("span",[t._v("Utilities")]):t._e(),"23"==t.id?a("span",[t._v("Construction")]):t._e(),"31-33"==t.id?a("span",[t._v("Manufacturing")]):t._e(),"42"==t.id?a("span",[t._v("Wholesale Trade")]):t._e(),"44-45"==t.id?a("span",[t._v("Retail Trade")]):t._e(),"48-49"==t.id?a("span",[t._v("Transportation and Warehousing")]):t._e(),"51"==t.id?a("span",[t._v("Information")]):t._e(),"52"==t.id?a("span",[t._v("Finance and Insurance")]):t._e(),"53"==t.id?a("span",[t._v("Real Estate Rental and Leasing")]):t._e(),"54"==t.id?a("span",[t._v("Professional, Scientific, and Technical Services")]):t._e(),"55"==t.id?a("span",[t._v("Management of Companies and Enterprises")]):t._e(),"56"==t.id?a("span",[t._v("Administrative and Support and Waste Management and Remediation Services")]):t._e(),"61"==t.id?a("span",[t._v("Educational Services")]):t._e(),"62"==t.id?a("span",[t._v("Health Care and Social Assistance")]):t._e(),"71"==t.id?a("span",[t._v("Arts, Entertainment, and Recreation")]):t._e(),"72"==t.id?a("span",[t._v("Accommodation and Food Services")]):t._e(),"81"==t.id?a("span",[t._v("Other Services (except Public Administration) ")]):t._e(),"99"==t.id?a("span",[t._v("Public Administration")]):t._e()])])},be=[],ge=(Dt=Object(d["b"])({default:null,type:String}),Object(d["a"])((Lt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(q["a"])(Object(O["a"])(t),"id",At,Object(O["a"])(t)),t}return a}(d["c"]),Et=Lt,At=Object(D["a"])(Et.prototype,"id",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Et))||St),_e=ge,we=Object(m["a"])(_e,ve,be,!1,null,"7d4e0510",null),je=we.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticClass:"county-selecter",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",remote:"","remote-method":t.searchCounty,loading:t.loading,placeholder:t.placeholder,size:"large"},on:{change:t.change},model:{value:t.myfips,callback:function(e){t.myfips=e},expression:"myfips"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])})),1)},xe=[],Ce=(a("25f0"),{props:{fips:String,placeholder:{type:String,default:"Search county"}},data:function(){return{countyList:null,options:[],myfips:null,loading:!1}},watch:{fips:function(t){this.myfips=t}},mounted:function(){var t=this;fetch(this.$root.dataUrl+"/countylist.json").then((function(t){return t.json()})).then((function(e){t.countyList=e,t.myfips=t.fips}))},methods:{searchCounty:function(t){if(this.options=[],!(t.length<3)){this.loading=!0;var e=t.toLowerCase();this.options=this.countyList.filter((function(t){return!!t.label.toLowerCase().includes(e)||!!t.value.toString().includes(e)})),this.loading=!1}},change:function(){this.$emit("select",this.myfips),this.myfips=null}}}),ke=Ce,De=(a("b170"),Object(m["a"])(ke,Oe,xe,!1,null,null,null)),Se=De.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showDetail?t._e():a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){t.showDetail=!0}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" This incident may be eligible for "),a("b",[t._v("2018")]),t._v(" disaster supplemental funding ")]),a("slide-up-down",{attrs:{active:t.showDetail}},[a("p",[t._v(" Applicants who are affected by this disaster may be eligible for "),a("a",{attrs:{href:"https://www.grants.gov/web/grants/view-opportunity.html?oppId=302953"}},[t._v("2018 EDA Disaster Supplemental")]),t._v(" funding ($587 million). This investment assistance will help communities and regions devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects, as appropriate, to address economic challenges. ")]),a("p",{staticStyle:{"background-color":"#eee",padding:"10px"}},[a("b",[t._v("Eligible Applicants")]),a("ul",[a("li",[t._v("Nonprofits")]),a("li",[t._v("Public and State controlled institutions of higher education")]),a("li",[t._v("City or township governments")]),a("li",[t._v("State governments")]),a("li",[t._v("County governments")]),a("li",[t._v("Special district governments")]),a("li",[t._v("Native American tribal governments (Federally recognized)")]),a("li",[t._v("Private institutions of higher education")]),a("li",[t._v("Others")])])]),a("p",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.apply}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Apply")])],1)])],1)},Ae=[],Le=(It=Object(d["a"])({components:{SlideUpDown:X["a"]}}),It((Pt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(k["a"])(Object(O["a"])(t),"showDetail",!1),t}return Object(j["a"])(a,[{key:"apply",value:function(){document.location="https://www.grants.gov/web/grants/view-opportunity.html?oppId=302953"}}]),a}(d["c"]),$t=Pt))||$t),Ie=Le,$e=(a("30be"),Object(m["a"])(Ie,Ee,Ae,!1,null,"b2619a2c",null)),Pe=$e.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showDetail?t._e():a("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:function(e){t.showDetail=!0}}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" This incident may be eligible for "),a("b",[t._v("2019")]),t._v(" disaster supplemental funding ")]),a("slide-up-down",{attrs:{active:t.showDetail}},[a("p",[t._v(" Applicants who are affected by this disaster may be eligible for "),a("a",{attrs:{href:"https://www.grants.gov/web/grants/view-opportunity.html?oppId=319126"}},[t._v("2019 EDA Disaster Supplemental")]),t._v(" funding ($587 million). This investment assistance will help communities and regions devise and implement long-term economic recovery strategies through a variety of non-construction and construction projects, as appropriate, to address economic challenges. ")]),a("p",{staticStyle:{"background-color":"#eee",padding:"10px"}},[a("b",[t._v("Eligible Applicants")]),a("ul",[a("li",[t._v("Nonprofits")]),a("li",[t._v("City or township governments")]),a("li",[t._v("Special district governments")]),a("li",[t._v("County governments")]),a("li",[t._v("Public and State controlled institutions of higher education")]),a("li",[t._v("Private institutions of higher education")]),a("li",[t._v("State governments")]),a("li",[t._v("Native American tribal governments (Federally recognized)")]),a("li",[t._v("Others")])])]),a("p",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.apply}},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" Apply")])],1),a("br")])],1)},Re=[],Me=(Tt=Object(d["a"])({components:{SlideUpDown:X["a"]}}),Tt((Mt=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(k["a"])(Object(O["a"])(t),"showDetail",!1),t}return Object(j["a"])(a,[{key:"apply",value:function(){document.location="https://www.grants.gov/web/grants/view-opportunity.html?oppId=319126"}}]),a}(d["c"]),Rt=Mt))||Rt),Ne=Me,ze=(a("e47d"),Object(m["a"])(Ne,Te,Re,!1,null,"cac2fdb0",null)),Be=ze.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ExportablePlotly",{ref:"plotly",attrs:{data:t.data,layout:t.layout}})},He=[],Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Plotly",{ref:"plot",attrs:{data:t.data,layout:t.layout,"mode-bar-buttons-to-add":t.buttons}})},Ye=[],Ue=a("04d1"),Ve=(Nt=Object(d["a"])({components:{Plotly:Ue["Plotly"]}}),zt=Object(d["b"])(),Bt=Object(d["b"])(),Nt((Ut=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(q["a"])(Object(O["a"])(t),"data",Gt,Object(O["a"])(t)),Object(q["a"])(Object(O["a"])(t),"layout",Yt,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"buttons",[{name:"Save as SVG",icon:{width:500,height:600,path:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},click:function(){var e=t.$refs.plot;e.toImage({format:"svg",width:e.$el.clientWidth,height:e.$el.clientHeight}).then((function(t){var e=document.createElement("a");e.href=t,e.download="graph.svg",e.click()}))}}]),t}return a}(d["c"]),Ht=Ut,Gt=Object(D["a"])(Ht.prototype,"data",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=Object(D["a"])(Ht.prototype,"layout",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Ht))||Ft),We=Ve,Ze=Object(m["a"])(We,Ge,Ye,!1,null,"f954df18",null),qe=Ze.exports,Je=(Vt=Object(d["a"])({components:{ExportablePlotly:qe}}),Wt=Object(d["b"])(),Zt=Object(d["b"])(),qt=Object(d["b"])(),Jt=Object(d["b"])(),Qt=Object(d["b"])(),Vt((ne=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(q["a"])(Object(O["a"])(t),"value",te,Object(O["a"])(t)),Object(q["a"])(Object(O["a"])(t),"histogram",ee,Object(O["a"])(t)),Object(q["a"])(Object(O["a"])(t),"fips",ae,Object(O["a"])(t)),Object(q["a"])(Object(O["a"])(t),"state",ie,Object(O["a"])(t)),Object(q["a"])(Object(O["a"])(t),"xunit",se,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"data",null),Object(k["a"])(Object(O["a"])(t),"layout",null),Object(k["a"])(Object(O["a"])(t),"buttons",[]),t}return Object(j["a"])(a,[{key:"mounted",value:function(){var t=this,e={x:[0],y:[-1],marker:{color:["#ccc"]},name:"All Counties",type:"bar"},a=this.histogram.hists["_us"],i=this.histogram.bucket,s=this.histogram.min;a.forEach((function(a){e.x.push(s),e.y.push(a);var n="#ccc";t.value>s&&t.value<=s+i&&(n="#666"),e.marker.color.push(n),s+=i}));var n=this.fips.substring(0,2),r={x:[0],y:[-1],marker:{color:["#66b1ff"]},name:"Counties in "+this.state,type:"bar"},o=this.histogram.hists[n];s=this.histogram.min,o.forEach((function(e){r.x.push(s),r.y.push(e);var a="#66b1ff";t.value>s&&t.value<=s+i&&(a="#26c"),r.marker.color.push(a),s+=i})),this.data=[r,e],this.layout={height:200,margin:{l:50,r:30,t:10,b:30},barmode:"stack",xaxis:{title:this.$options.filters.formatNumber(this.histogram.bucket)+" "+this.xunit+" for each bar",range:[this.histogram.min-this.histogram.bucket,this.histogram.max+this.histogram.bucket]},yaxis:{type:"log",autorange:!0,title:"# of Counties"}}}}]),a}(d["c"]),Kt=ne,te=Object(D["a"])(Kt.prototype,"value",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=Object(D["a"])(Kt.prototype,"histogram",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(D["a"])(Kt.prototype,"fips",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Object(D["a"])(Kt.prototype,"state",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Object(D["a"])(Kt.prototype,"xunit",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=Kt))||Xt),Qe=Je,Xe=Object(m["a"])(Qe,Fe,He,!1,null,"47177f10",null),Ke=Xe.exports;d["c"].directive("scroll",{inserted:function(t,e){var a=function a(i){e.value(i,t)&&window.removeEventListener("scroll",a)};window.addEventListener("scroll",a)}});var ta,ea,aa,ia,sa,na,ra,oa,la,ca=(re=Object(d["a"])({components:{ExportablePlotly:qe,Event:at,Eligibility2018:Pe,Eligibility2019:Be,IndicatorInfo:lt,Footer:mt,SlideUpDown:X["a"],CompositePlot:Ot,BVIPlot:fe,NaicsInfo:je,CountySelecter:Se,Histogram:Ke}}),oe=Object(d["b"])(),le=Object(d["d"])("fips"),re((de=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(q["a"])(Object(O["a"])(t),"fips",pe,Object(O["a"])(t)),Object(k["a"])(Object(O["a"])(t),"statemap",void 0),Object(k["a"])(Object(O["a"])(t),"detail",null),Object(k["a"])(Object(O["a"])(t),"tab","info"),Object(k["a"])(Object(O["a"])(t),"history",[]),Object(k["a"])(Object(O["a"])(t),"bvi2Layout",{height:100,margin:{l:50,r:0,t:10,b:30,pad:10}}),Object(k["a"])(Object(O["a"])(t),"bvi2",{}),Object(k["a"])(Object(O["a"])(t),"bvi2_nonv",{}),Object(k["a"])(Object(O["a"])(t),"showNonvBVI",!1),Object(k["a"])(Object(O["a"])(t),"bviLayout",null),Object(k["a"])(Object(O["a"])(t),"stormLayout",null),Object(k["a"])(Object(O["a"])(t),"stormData",null),Object(k["a"])(Object(O["a"])(t),"showPastHistory",!1),Object(k["a"])(Object(O["a"])(t),"shownIndicators",[]),Object(k["a"])(Object(O["a"])(t),"industryGraphLayout",{height:400,margin:{t:0,b:30,l:400,r:0},xaxis:{title:"Employment (k)"}}),Object(k["a"])(Object(O["a"])(t),"demoGraphData",[]),Object(k["a"])(Object(O["a"])(t),"demoGraphLayout",{height:200,margin:{r:280,t:10,b:20}}),Object(k["a"])(Object(O["a"])(t),"orGraphData",[]),Object(k["a"])(Object(O["a"])(t),"orGraphLayout",{height:200,margin:{r:280,t:10,b:20}}),Object(k["a"])(Object(O["a"])(t),"pcmGraphData",[]),Object(k["a"])(Object(O["a"])(t),"pcmGraphLayout",{height:150,margin:{l:40,r:30,t:10,b:30},yaxis:{ticksuffix:"$"},annotations:[]}),Object(k["a"])(Object(O["a"])(t),"pcpGraphData",[]),Object(k["a"])(Object(O["a"])(t),"pcpGraphLayout",{height:150,margin:{l:40,r:30,t:10,b:30},yaxis:{ticksuffix:"$"}}),Object(k["a"])(Object(O["a"])(t),"urGraphLayout",{height:200,margin:{l:40,r:30,t:10,b:20},legend:{orientation:"h",side:"bottom"},yaxis:{ticksuffix:"%"}}),Object(k["a"])(Object(O["a"])(t),"uGraphLayout",{height:200,margin:{l:40,r:30,t:10,b:20},legend:{orientation:"h",side:"bottom"}}),Object(k["a"])(Object(O["a"])(t),"showEmploymentHistory",!1),Object(k["a"])(Object(O["a"])(t),"cuttersData",{}),Object(k["a"])(Object(O["a"])(t),"contextMenuCounty",null),t}return Object(j["a"])(a,[{key:"onDetailChange",value:function(){this.$router.replace("/county/"+this.fips),this.load()}},{key:"toggleIndicator",value:function(t){var e=this.shownIndicators.indexOf(t);~e?this.shownIndicators.splice(e,1):this.shownIndicators.push(t)}},{key:"toggleMeasureDetail",value:function(t){d["c"].set(t,"showDetail",!t.showDetail)}},{key:"goto",value:function(t){var e=document.getElementById(t);e.scrollIntoView()}},{key:"processHistory",value:function(){var t=this;this.history=[],this.$root.user&&this.detail.eda2018.forEach((function(e){e.grantee=e.grantee_name+", "+e.grantee_city+", "+e.grantee_state,e.date=new Date(e.grant_award_date),e.type="eda2018",t.history.push(e)})),this.detail.disasters.forEach((function(e){e.type="dr",e.date=new Date(e.incidentBeginDate),t.history.push(e)})),this.history.sort((function(t,e){return e.date-t.date}))}},{key:"processBVI2",value:function(){var t=this;if(this.bviLayout={height:150,margin:{l:40,r:30,t:10,b:30},legend:{y:1.15,bgcolor:"rgba(255, 255, 255, 0)",bordercolor:"rgba(255, 255, 255, 0)",orientation:"h"},barmode:"stack",xaxis:{type:"category"}},this.detail.bvis2){var e=function(e){var a=t.detail.bvis2[e],i=!1;a.estab_v.forEach((function(t){0!=t&&(i=!0)})),a.emp_v.forEach((function(t){0!=t&&(i=!0)}));var s={estPlotly:[{x:a.years,y:a.estab.map((function(t,e){var i=t-a.estab_v[e];return i<0&&(i=0),i})),name:"Non Vulnerable",showlegend:!1,type:"bar",marker:{color:"#0004"}},{x:a.years,y:a.estab_v,name:"Vulnerable",showlegend:!1,type:"bar",marker:{color:"#6008"}}],empPlotly:[{x:a.years,y:a.emp.map((function(t,e){var i=t-a.emp_v[e];return i<0&&(i=0),i})),name:"Non Vulnerable",showlegend:!1,type:"bar",marker:{color:"#0004"}},{x:a.years,y:a.emp_v,name:"Vulnerable",showlegend:!1,type:"bar",marker:{color:"#6008"}}]};i?t.bvi2[e]=s:t.bvi2_nonv[e]=s};for(var a in this.detail.bvis2)e(a)}}},{key:"processStorms",value:function(){for(var t in this.stormLayout={margin:{l:40,r:30,t:10,b:30},legend:{y:1.15,bgcolor:"rgba(255, 255, 255, 0)",bordercolor:"rgba(255, 255, 255, 0)",orientation:"h"},barmode:"stack"},this.stormData=[],this.detail.storms){var e=[],a=[];for(var i in this.detail.storms[t])e.push(i),a.push(this.detail.storms[t][i]);this.stormData.push({x:e,y:a,name:t,type:"bar"})}}},{key:"processOR",value:function(){this.orGraphData=[];var t={x:this.detail.or.years,stackgroup:"one",line:{width:0,shape:"spline",smoothing:.8},mode:"lines"};for(var e in this.detail.or.groups)if("hispanic"!=e&&"non_hisp"!=e){var a=e.toUpperCase();"AIAN"==a&&(a="American Indian or Alaskan Native"),this.orGraphData.push(Object.assign({y:this.detail.or.groups[e],name:a,hoverinfo:"y+text"},t))}}},{key:"processDemo",value:function(){var t=this;this.demoGraphData=[];var e={x:this.detail.pops.years,stackgroup:"one",line:{width:0,shape:"spline",smoothing:.8},mode:"lines"};this.detail.pops.groups.forEach((function(a){t.demoGraphData.push(Object.assign({y:a.y,name:a.name,hoverinfo:"y+text"},e))}));for(var a=function(e){var a=t.demoGraphData.reduce((function(t,a){return t+a.y[e]}),0);t.demoGraphData.forEach((function(t){t.hovertext||(t.hovertext=[]),0==a?t.hovertext.push(null):t.hovertext.push((t.y[e]/a*100).toFixed(1)+"%")}))},i=0;i<this.detail.pops.years.length;++i)a(i)}},{key:"processDistress",value:function(){this.pcmGraphData=[{x:this.detail.distress_pcm.years,y:this.detail.distress_pcm.est,error_y:{type:"data",array:this.detail.distress_pcm.moe,visible:!0},name:"EST"}],this.pcpGraphData=[{x:this.detail.distress_pcp.years,y:this.detail.distress_pcp.data,title:"MOE"}]}},{key:"mounted",value:function(){this.fips&&this.load()}},{key:"load",value:function(){var t=this;this.showPastHistory=!1,this.showNonvBVI=!1,fetch(this.$root.dataUrl+"/counties/county."+this.fips+".json").then((function(t){return t.json()})).then((function(e){t.detail=e,delete t.detail.cutter2["INST"],delete t.detail.cutter2["FLOR"],t.processHistory(),t.processBVI2(),t.processStorms(),t.processDemo(),t.processOR(),t.processDistress()}))}},{key:"handleScroll",value:function(){var t=this,e=["disaster","bvi","cutter","storms"];e.forEach((function(e){var a=t.$refs["nav-"+e];a&&a.classList.remove("navigator-item-active")}));var a=this.$refs["scrolled-area"],i=a.scrollTop+a.clientHeight/2;e.forEach((function(e){var a=document.getElementById(e);a&&a.offsetTop<i&&a.offsetTop+a.scrollHeight>i&&t.$refs["nav-"+e].classList.add("navigator-item-active")}))}},{key:"goback",value:function(){this.$router.replace("/")}},{key:"is2018Eligible",value:function(t){switch(t.incidentType){case"Chemical":case"Human Cause":case"Terrorist":case"Toxic Substances":case"Biological":return!1}var e=new Date("2017-01-01"),a=new Date("2018-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var s=new Date;return t.incidentEndDate&&(s=new Date(t.incidentEndDate)),i>=e&&i<a||s>=e&&s<a}},{key:"is2019Eligible",value:function(t){switch(t.incidentType){case"Chemical":case"Human Cause":case"Terrorist":case"Toxic Substances":case"Biological":return!1}var e=new Date("2018-01-01"),a=new Date("2019-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var s=new Date;return t.incidentEndDate&&(s=new Date(t.incidentEndDate)),i>=e&&i<a||s>=e&&s<a}},{key:"is2019FloodEligible",value:function(t){switch(t.incidentType){case"Tornado":case"Flood":case"Severe Storm(s)":break;default:if(t.incidentTitle&&!t.incidentTitle.toLowerCase().includes("tornado")&&!t.incidentTitle.toLowerCase().includes("flood")&&!t.incidentTitle.toLowerCase().includes("severe storms"))return!1}var e=new Date("2019-01-01"),a=new Date("2020-01-01"),i=new Date;t.incidentBeginDate&&(i=new Date(t.incidentBeginDate));var s=new Date;return t.incidentEndDate&&(s=new Date(t.incidentEndDate)),i>=e&&i<a||s>=e&&s<a}},{key:"openContextMenuCounty",value:function(){window.open("#/county/"+this.contextMenuCounty,"apred-"+this.contextMenuCounty)}},{key:"scroll2top",value:function(){window.scrollTo(0,0)}},{key:"compare",value:function(){window.open("#/compare/what/"+this.fips,"compare-what-"+this.fips)}},{key:"industryGraphData",get:function(){var t=this.detail.industries.filter((function(t){return t.empl>0})),e=t.reduce((function(t,e){return t+e.empl}),0);return t.forEach((function(t){t.name=t.name+" ("+(t.empl/e*100).toFixed(1)+"%)"})),[{x:t.map((function(t){return t.empl})),y:t.map((function(t){return t.name})),type:"bar",orientation:"h"}]}},{key:"urGraphData",get:function(){return[{x:this.detail.distress_ur.date,y:this.detail.distress_ur.rate,name:"County Unempl. Rate",line:{color:"#409EFF"}},{x:this.$root.unempUS.date,y:this.$root.unempUS.rate,name:"US Unempl. Rate",line:{color:"#999"}}]}},{key:"uGraphData",get:function(){return[{x:this.detail.distress_ur.date,y:this.detail.distress_ur.employed,stackgroup:"county",name:"Employed",fillcolor:"rgba(0,0,0,0.1)",line:{width:0}},{x:this.detail.distress_ur.date,y:this.detail.distress_ur.unemp,stackgroup:"county",name:"Unemployed",fillcolor:"rgba(153, 30, 30, 0.4)",line:{width:0}}]}},{key:"unempRateDate",get:function(){var t=this.detail.distress_ur.date.length;return this.detail.distress_ur.date[t-1]}},{key:"unempRateCounty",get:function(){var t=this.detail.distress_ur.rate.length;return this.detail.distress_ur.rate[t-1]}},{key:"unempRateUS",get:function(){var t=this.$root.unempUS.rate.length;return this.$root.unempUS.rate[t-1]}},{key:"recentHistory",get:function(){return this.history.filter((function(t){return t.date>=new Date("2017-01-01")}))}},{key:"pastHistory",get:function(){return this.history.filter((function(t){return t.date<new Date("2017-01-01")}))}}]),a}(d["c"]),ue=de,pe=Object(D["a"])(ue.prototype,"fips",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(D["a"])(ue.prototype,"onDetailChange",[le],Object.getOwnPropertyDescriptor(ue.prototype,"onDetailChange"),ue.prototype),ce=ue))||ce),ua=ca,pa=(a("6445"),a("1a5b"),Object(m["a"])(ua,W,Z,!1,null,"fa3a765c",null)),da=pa.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"map"}}),a("div",{staticClass:"search-control"},[t._m(0),a("CountySelecter",{staticStyle:{width:"300px"},attrs:{placeholder:"Search county name here"},on:{select:t.countySelected}})],1),a("div",{staticClass:"side"},[t.mode?a("div",{staticClass:"legend"},[t._m(1),a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",size:"small"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t.mode?a("div",{staticClass:"map-description"},["dr"==t.mode?a("p",[t._v(" This map shows counties with FEMA declared disasters within specified time range. Please visit "),a("a",{attrs:{href:"https://www.fema.gov/disasters/disaster-declarations"}},[t._v("FEMA Disasters")]),t._v(" page for more detail. ")]):t._e(),"eda"==t.mode?a("p",[t._v(" This map shows locations and amounts of EDA (U.S. Economic Development Administration) fundings awarded in the specified time range. EDA assists communities experiencing economic distress or harm resulting from federally-declared natural disasters. ")]):t._e(),"resilience"==t.mode?a("p",[t._v(" This map shows disaster resilience score for each counties in the specified year aggregated into 4 major categories (Social, Economic, Infrastructure, and Community Capital). Disaster resilience scores are calculated using data from U.S. Census using formulas defined by [Cuter et al. 2020]. ")]):t._e()]):t._e(),"dr"==t.mode?a("div",[t._m(2),a("p",[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"1961"==t.drRange},on:{click:t.drPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.drRange,callback:function(e){t.drRange=e},expression:"drRange"}},t._l(t.drRanges,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"recent"==t.drRange},on:{click:t.drNext}})],1)],1)],1),t._m(3),a("div",{staticClass:"legend-item",staticStyle:{"border-bottom":"1px solid #0002","margin-bottom":"8px","padding-bottom":"3px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.layersAll,expression:"layersAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.layersAll)?t._i(t.layersAll,null)>-1:t.layersAll},on:{change:[function(e){var a=t.layersAll,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);i.checked?r<0&&(t.layersAll=a.concat([n])):r>-1&&(t.layersAll=a.slice(0,r).concat(a.slice(r+1)))}else t.layersAll=s},t.handleAll]}}),t._v(" All ")]),t._l(t.$root.layers,(function(e,i){return a("div",{key:i,staticClass:"legend-item",class:{hidden:t.hiddenLayers.includes(i)},staticStyle:{clear:"right"},attrs:{title:e.types.join(", ")},on:{click:function(e){return e.stopPropagation(),t.toggleLayer(i)}}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:!t.hiddenLayers.includes(i)}}),a("span",{staticClass:"legend-color",style:{backgroundColor:e.color}}),t._v(" "+t._s(i.toUpperCase())+" ")])}))],2):t._e(),"eda"==t.mode?a("div",[t._m(4),a("p",[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"2012"==t.edaYear},on:{click:t.edaPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.edaYear,callback:function(e){t.edaYear=e},expression:"edaYear"}},t._l(t.edaYears,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"all"==t.edaYear},on:{click:t.edaNext}})],1)],1)],1),t._m(5),a("ul",{staticStyle:{"list-style":"none",padding:"0"}},t._l(t.edaTypes,(function(e){return a("li",{key:e,staticStyle:{"margin-bottom":"3px"}},[a("el-radio",{attrs:{label:e},model:{value:t.edaType,callback:function(e){t.edaType=e},expression:"edaType"}},[t._v(t._s(e.split(" ").slice(0,2).join(" ")))])],1)})),0)]):t._e(),"resilience"==t.mode?a("div",[t._m(6),a("p",[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini",disabled:"2012"==t.resYear},on:{click:t.resPrevious}})],1),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"Select",size:"mini"},model:{value:t.resYear,callback:function(e){t.resYear=e},expression:"resYear"}},t._l(t.resYears,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-right",size:"mini",disabled:"2018"==t.resYear},on:{click:t.resNext}})],1)],1)],1),t._m(7),t._l(t.cutterIndicators,(function(e,i){return a("div",{key:i,staticClass:"legend-item"},[a("el-radio",{style:{color:e.color},attrs:{label:i},on:{change:t.showDRLayers},model:{value:t.drLayer,callback:function(e){t.drLayer=e},expression:"drLayer"}},[t._v(t._s(e.name))])],1)})),a("br"),a("div",{staticStyle:{"background-image":"linear-gradient(to right, red, yellow, green)",width:"100%",height:"5px"}}),a("span",{staticStyle:{float:"left"}},[t._v("Low")]),a("span",{staticStyle:{float:"right"}},[t._v("High")]),a("br")],2):t._e()]):t._e()]),a("div",{ref:"contextmenu",staticClass:"contextmenu"},[a("p",{staticClass:"menu-item",on:{click:t.openContextMenuCounty}},[t._v("Open ("+t._s(t.contextMenuCounty)+") in a new tab")])])])},ya=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"10px",opacity:"0.6",display:"inline-block"}},[a("span",{staticStyle:{opacity:"0.5","margin-left":"10px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Map Type")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Date Range")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Disaster Types")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Grant Purpose")]),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"heading"},[a("b",[t._v("Resilience Indicators")])])}],ma=(a("6062"),a("2909")),fa=a("e192"),va=a.n(fa),ba=(a("ac6d"),new Date),ga=ba.getFullYear();va.a.accessToken="pk.eyJ1Ijoic29pY2hpaCIsImEiOiJjazVqdnBsM2cwN242M2psdjAwZXhhaTFuIn0.o3koWlzx1Tup8CJ1B_KaEA";var _a,wa,ja,Oa,xa,Ca,ka,Da,Sa,Ea,Aa,La=(ta=Object(d["a"])({components:{CountySelecter:Se}}),ea=Object(d["d"])("drRange"),aa=Object(d["d"])("resYear"),ia=Object(d["d"])("edaYear"),sa=Object(d["d"])("edaType"),na=Object(d["d"])("mode"),ta((la=function(t){Object(x["a"])(i,t);var e=Object(C["a"])(i);function i(){var t;Object(w["a"])(this,i);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n)),Object(k["a"])(Object(O["a"])(t),"modes",[]),Object(k["a"])(Object(O["a"])(t),"popup",void 0),Object(k["a"])(Object(O["a"])(t),"selected",null),Object(k["a"])(Object(O["a"])(t),"selectedFips",null),Object(k["a"])(Object(O["a"])(t),"geojson",null),Object(k["a"])(Object(O["a"])(t),"cutters",null),Object(k["a"])(Object(O["a"])(t),"hiddenLayers",["biological"]),Object(k["a"])(Object(O["a"])(t),"drLayer","SOC"),Object(k["a"])(Object(O["a"])(t),"layersAll",!0),Object(k["a"])(Object(O["a"])(t),"contextMenuCounty",null),Object(k["a"])(Object(O["a"])(t),"contextMenuFips",null),Object(k["a"])(Object(O["a"])(t),"updatedDate",null),Object(k["a"])(Object(O["a"])(t),"mode",null),Object(k["a"])(Object(O["a"])(t),"drRange",null),Object(k["a"])(Object(O["a"])(t),"drRanges",[{value:"recent",label:"2017 - Now"}]),Object(k["a"])(Object(O["a"])(t),"yearsDR",null),Object(k["a"])(Object(O["a"])(t),"eda2018",null),Object(k["a"])(Object(O["a"])(t),"resYear",null),Object(k["a"])(Object(O["a"])(t),"resYears",[]),Object(k["a"])(Object(O["a"])(t),"edaYear",null),Object(k["a"])(Object(O["a"])(t),"edaYears",[]),Object(k["a"])(Object(O["a"])(t),"edaType","All"),Object(k["a"])(Object(O["a"])(t),"edaTypes",["All"]),Object(k["a"])(Object(O["a"])(t),"cutterIndicators",{SOC:{name:"Social",color:"#444"},ECON:{name:"Economic",color:"#444"},IHFR:{name:"Infrastructure",color:"#444"},COMM:{name:"Community Capital",color:"#444"}}),Object(k["a"])(Object(O["a"])(t),"awardIcon",a("56a2")),Object(k["a"])(Object(O["a"])(t),"popupTimeout",null),t}return Object(j["a"])(i,[{key:"onRangeChange",value:function(){var t=this,e=function(e){var a=t.$root.layers[e].types;if(!a)return"continue";var i=["in","fips"],s=["in","statefips"],n=[];if("recent"==t.drRange)for(var r=new Date,o=2017;o<=r.getFullYear();++o)n.push(o);else n.push(t.drRange);n.forEach((function(e){a.forEach((function(a){t.yearsDR[e]&&t.yearsDR[e][a]&&(i=i.concat(t.yearsDR[e][a].filter((function(t){return 5==t.length}))),s=s.concat(t.yearsDR[e][a].filter((function(t){return 2==t.length}))))}))}));var l=Object(ma["a"])(new Set(i)),c=Object(ma["a"])(new Set(s));t.map.setFilter("county_disaster_"+e,l),t.map.setFilter("state_disaster_"+e,c)};for(var a in this.$root.layers)e(a)}},{key:"onResChange",value:function(t){var e=this;if(t){var a=parseInt(this.resYear),i=function(t){var i={};for(var s in e.cutters){var n=e.cutters[s],r=s.replace(".","");n[t]&&(i[r]=n[t][a-2012])}e.geojson.features.forEach((function(t){var e=t.properties["fips"];t.properties["resilience"]=i[e]||0})),e.map.getSource("dr"+t).setData(e.geojson)};for(var s in this.cutterIndicators)i(s)}}},{key:"onEdaYearChange",value:function(t){t&&this.updateEda()}},{key:"onEdaTypeChange",value:function(t){t&&this.updateEda()}},{key:"updateEda",value:function(){var t=this,e=["in","fips"];this.eda2018.forEach((function(a){"all"!=t.edaYear&&a.year!=t.edaYear||"All"!=t.edaType&&a.data.grant_purpose!=t.edaType||e.includes(a.fips)||e.push(a.fips)})),this.map.setFilter("eda",e)}},{key:"created",value:function(){this.modes.push({value:"dr",label:"FEMA Disaster Declarations"}),this.$root.user&&this.modes.push({value:"eda",label:"EDA Awards"}),this.modes.push({value:"resilience",label:"Disaster Resilience"});var t=window.localStorage.getItem("hiddenLayers");t&&(this.hiddenLayers=JSON.parse(t),this.layersAll=0==this.hiddenLayers.length);var e=window.localStorage.getItem("drLayer");e&&(this.drLayer=e);for(var a=ga;a>1960;--a)this.drRanges.push({value:a.toString(),label:a.toString()});for(var i=2018;i>=2012;--i)this.resYears.push({value:i.toString(),label:i.toString()});this.edaYears.push({value:"all",label:"All"});for(var s=ga;s>=2012;--s)this.edaYears.push({value:s.toString(),label:s.toString()})}},{key:"onModeChange",value:function(t){if(t&&0!=t)switch(this.hideDDLayers(),this.hideDRLayers(),this.hideEDA2018Layers(),this.mode){case"dr":this.showDDLayers();break;case"resilience":this.showDRLayers();break;case"eda":this.showEDA2018Layers();break}}},{key:"hideDDLayers",value:function(){for(var t in this.$root.layers)this.map.setLayoutProperty("county_disaster_"+t,"visibility","none"),this.map.setLayoutProperty("state_disaster_"+t,"visibility","none")}},{key:"showDDLayers",value:function(){for(var t in this.$root.layers)this.map.setLayoutProperty("county_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible")}},{key:"hideDRLayers",value:function(){if(this.cutters)for(var t in this.cutterIndicators)this.map.setLayoutProperty("dr"+t,"visibility","none")}},{key:"showDRLayers",value:function(){for(var t in this.cutterIndicators)this.map.setLayoutProperty("dr"+t,"visibility",this.drLayer==t?"visible":"none")}},{key:"hideEDA2018Layers",value:function(){this.edaYear&&this.map.setLayoutProperty("eda","visibility","none")}},{key:"showEDA2018Layers",value:function(){this.map.setLayoutProperty("eda","visibility","visible")}},{key:"loadCutters",value:function(t,e){this.map.addSource("dr"+e,{type:"geojson",data:this.geojson}),this.map.addLayer({id:"dr"+e,type:"fill",source:"dr"+e,paint:{"fill-opacity":.75,"fill-color":["interpolate",["linear"],["get","resilience"],0,"red",.5,"yellow",1,"green"]},layout:{visibility:"none"}},"map"),this.resYear="2018"}},{key:"mounted",value:function(){var t=this;this.map=new va.a.Map({container:"map",style:"mapbox://styles/soichih/ckig6p3ph51e719pcdusqyd1o",center:[0,0],minZoom:4,pitch:30,zoom:1}),this.$root.map=this.map,this.map.addControl(new va.a.NavigationControl),this.popup=new va.a.Popup({closeButton:!1,offset:[0,-20],maxWidth:400}),this.map.on("load",(function(){fetch(t.$root.dataUrl+"/counties_geo.albers.geojson").then((function(e){return t.updatedDate=e.headers.get("last-modified"),e.json()})).then((function(e){t.geojson=e,t.map.addSource("counties",{type:"geojson",data:e}),t.map.addLayer({id:"map",type:"fill",source:"counties",paint:{"fill-color":"rgba(255,255,255,0.1)"}});var a=[];for(var i in t.$root.layers){var s=t.$root.layers[i];s.id=i,a.push(s)}a.sort((function(t,e){return t.zIndex-e.zIndex})),a.forEach((function(e){t.map.addLayer({id:"county_disaster_"+e.id,type:"fill",source:"counties",paint:{"fill-color":e.color,"fill-opacity":.75*(e.opacity||1)},filter:["in","fips",""],layout:{visibility:"none"}},"map"),t.map.addLayer({id:"state_disaster_"+e.id,type:"fill",source:"counties",paint:{"fill-color":e.color,"fill-opacity":.2*(e.opacity||1)},filter:["in","fips",""],layout:{visibility:"none"}},"map")})),fetch(t.$root.dataUrl+"/years.json").then((function(t){return t.json()})).then((function(e){t.yearsDR=e,t.drRange="recent",t.mode="dr"})),fetch(t.$root.dataUrl+"/cutter_long.json").then((function(t){return t.json()})).then((function(e){for(var a in t.cutters=e,t.cutterIndicators)t.loadCutters(2018,a)})),fetch(t.$root.dataUrl+"/eda2018.json").then((function(t){return t.json()})).then((function(e){t.eda2018=[];var a=function(a){var i=e[a];i.counties.forEach((function(e){t.eda2018.push({year:new Date(i.grant_award_date).getFullYear(),fips:e.statefips+e.countyfips,data:i})}))};for(var i in e)a(i);for(var s in e){var n=e[s];t.edaTypes.includes(n.grant_purpose)||t.edaTypes.push(n.grant_purpose)}t.map.addLayer({id:"eda",type:"fill",source:"counties",paint:{"fill-color":"#00f","fill-opacity":.5},filter:["in","fips",""],layout:{visibility:"none"}},"map"),t.edaYear="all"}))})),t.map.on("click",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["counties"]});a.length>0&&t.countySelected(a[0].properties.county_fips)})),t.map.on("contextmenu",(function(e){var a=t.map.queryRenderedFeatures(e.point,{layers:["counties"]});if(a.length>0){e.preventDefault();var i=document.getElementById("map");t.$refs["contextmenu"].style.display="block",t.$refs["contextmenu"].style.left=e.point.x-20+"px",t.$refs["contextmenu"].style.top=i.offsetTop+e.point.y-10+"px",t.contextMenuCounty=a[0].properties.county_name+", "+a[0].properties.state_name,t.contextMenuFips=a[0].properties.county_fips}})),t.$refs["contextmenu"].addEventListener("mouseleave",(function(){t.$refs["contextmenu"].style.display="none"})),t.map.on("mousemove","counties",(function(e){clearTimeout(t.popupTimeout),t.popup.remove();var a=e.features[0],i=e.lngLat;t.popupTimeout=setTimeout((function(){t.showPopup(a,i)}),300)})),t.map.on("mouseleave","counties",(function(){clearTimeout(t.popupTimeout),t.popup.remove()})),t.map.on("idle",(function(){var e=localStorage.getItem("tutorial-played");if(!e&&!t.selected&&window.innerWidth>800){localStorage.setItem("tutorial-played",new Date);var a=document.getElementsByClassName("tutorial")[0];a.style.display="block",t.$nextTick((function(){t.showTutorial("tab")}))}}))}))}},{key:"showPopup",value:function(t,e){var a=this;this.map.getCanvas().style.cursor="pointer";var i="<div class='popup'>";i+="<h2>"+t.properties.county_name+"<small>, "+t.properties.state_name+"</small></h2>";var s=t.properties.county_fips,n=t.properties.state_fips;if("dr"==this.mode){var r=[];for(var o in this.$root.layers){var l=this.map.getFilter("county_disaster_"+o);l.includes(s)&&r.push(o)}i+="<div class='drs'>",i+="<small>County Disaster Declarations</small><br>",0==r.length?i+="<span class='no-dr'>No county disaster declared during specified period</span>":r.forEach((function(t){var e=a.$root.layers[t];i+="<span class='dr' style='color: "+e.color+"'>"+t+"</span>\n"})),i+="</div>";var c=[];for(var u in this.$root.layers){var d=this.map.getFilter("state_disaster_"+u);d.includes(n)&&c.push(u)}i+="<div class='drs'>",i+="<small>State Disaster Declarations</small><br>",0==c.length?i+="<span class='no-dr'>No state disaster declared during specified period</span>":c.forEach((function(t){var e=a.$root.layers[t];i+="<span class='dr' style='color: "+e.color+"'>"+t+"</span>\n"})),i+="</div>"}if("eda"==this.mode){var h=0;this.eda2018.forEach((function(t){"all"!=a.edaYear&&t.year!=a.edaYear||"All"!=a.edaType&&t.data.grant_purpose!=a.edaType||t.fips==s&&(h++,i+="<div class='eda-award'>",i+="<h4>",i+=p()(t.data.total_project_funding).format("$0,0"),i+="<time>"+new Date(t.data.grant_award_date).toLocaleDateString()+"</time>",i+="</h4>",i+="<p>",t.data.counties.length>1&&(i+=" <span style='opacity: 0.7;'>Multi-county("+t.data.counties.length+") award</span>"),"All"==a.edaType&&(i+=" <span style='opacity: 0.7; font-size: 80%'>For</span> "+t.data.grant_purpose),i+="</p>",i+="</div>")})),0==h&&(i+="<small>No EDA Awards with matching criteria</small>")}if("resilience"==this.mode){var y=parseInt(this.resYear);for(var m in this.cutterIndicators){var f=this.cutterIndicators[m],v=s.substring(0,2)+"."+s.substring(2),b=this.cutters[v];if(i+="<h4>"+f.name+"</h4> ",b&&b[m]){var g=b[m][y-2012];i+=p()(g).format("0.123")}else i+="<small>No resilience scores available for this county</small>"}}i+="</div>",this.popup.setLngLat(e),this.popup.setHTML(i),this.popup.addTo(this.map)}},{key:"showTutorial",value:function(t){var e=document.getElementsByClassName("tutorial")[0],a=document.getElementsByClassName("tutorial-focus")[0];a&&a.classList.remove("tutorial-focus");var i=document.getElementsByClassName("tutorial-text-show")[0];switch(i&&i.classList.remove("tutorial-text-show"),t){case"tab":a=document.getElementsByClassName("tabs")[0],i=document.getElementsByClassName("tutorial-text-tab")[0],i.style["top"]=a.offsetTop+110+"px",i.style["left"]=a.offsetLeft+20+"px";break;case"legend":a=document.getElementsByClassName("legend")[0],i=document.getElementsByClassName("tutorial-text-legend")[0],i.style["top"]=a.offsetTop+60+"px",i.style["left"]=a.offsetLeft-420+"px";break;case"county":a=document.getElementsByClassName("county-selecter")[0],i=document.getElementsByClassName("tutorial-text-county")[0],i.style["top"]=a.offsetTop+50+"px",i.style["left"]=a.offsetLeft-420+"px";break;default:return e.classList.remove("tutorial-active"),e.style.opacity="0",void setTimeout((function(){e.style.display="none"}),1e3)}e.classList.add("tutorial-active"),a.classList.add("tutorial-focus"),i.classList.add("tutorial-text-show")}},{key:"countySelected",value:function(t){this.$emit("select",t)}},{key:"openContextMenuCounty",value:function(){window.open("#/county/"+this.contextMenuFips,"apred-"+this.contextMenuFips)}},{key:"toggleLayer",value:function(t){var e=this.hiddenLayers.indexOf(t);~e?this.hiddenLayers.splice(e,1):this.hiddenLayers.push(t),this.map.setLayoutProperty("county_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+t,"visibility",this.hiddenLayers.includes(t)?"none":"visible"),this.layersAll=0==this.hiddenLayers.length,window.localStorage.setItem("hiddenLayers",JSON.stringify(this.hiddenLayers))}},{key:"handleAll",value:function(){if(this.layersAll)this.hiddenLayers=[];else for(var t in this.hiddenLayers=[],this.$root.layers)this.hiddenLayers.push(t);for(var e in window.localStorage.setItem("hiddenLayers",JSON.stringify(this.hiddenLayers)),this.$root.layers)this.map.setLayoutProperty("county_disaster_"+e,"visibility",this.hiddenLayers.includes(e)?"none":"visible"),this.map.setLayoutProperty("state_disaster_"+e,"visibility",this.hiddenLayers.includes(e)?"none":"visible")}},{key:"resPrevious",value:function(){this.resYear=(parseInt(this.resYear)-1).toString()}},{key:"resNext",value:function(){this.resYear=(parseInt(this.resYear)+1).toString()}},{key:"edaPrevious",value:function(){"all"!=this.edaYear?this.edaYear=(parseInt(this.edaYear)-1).toString():this.edaYear=ga.toString()}},{key:"edaNext",value:function(){this.edaYear==ga.toString()?this.edaYear="all":this.edaYear=(parseInt(this.edaYear)+1).toString()}},{key:"findIndexDrRange",value:function(t){var e=null;return this.drRanges.forEach((function(a,i){a.value==t&&(e=i)})),e}},{key:"drPrevious",value:function(){var t=this.findIndexDrRange(this.drRange);this.drRange=this.drRanges[t+1].value}},{key:"drNext",value:function(){var t=this.findIndexDrRange(this.drRange);this.drRange=this.drRanges[t-1].value}}]),i}(d["c"]),oa=la,Object(D["a"])(oa.prototype,"onRangeChange",[ea],Object.getOwnPropertyDescriptor(oa.prototype,"onRangeChange"),oa.prototype),Object(D["a"])(oa.prototype,"onResChange",[aa],Object.getOwnPropertyDescriptor(oa.prototype,"onResChange"),oa.prototype),Object(D["a"])(oa.prototype,"onEdaYearChange",[ia],Object.getOwnPropertyDescriptor(oa.prototype,"onEdaYearChange"),oa.prototype),Object(D["a"])(oa.prototype,"onEdaTypeChange",[sa],Object.getOwnPropertyDescriptor(oa.prototype,"onEdaTypeChange"),oa.prototype),Object(D["a"])(oa.prototype,"onModeChange",[na],Object.getOwnPropertyDescriptor(oa.prototype,"onModeChange"),oa.prototype),ra=oa))||ra),Ia=La,$a=(a("5d9a"),Object(m["a"])(Ia,ha,ya,!1,null,"79b93a68",null)),Pa=$a.exports,Ta=(_a=Object(d["a"])({components:{TopMenu:V,CountyDetail:da,CountyMap:Pa}}),wa=Object(d["d"])("$route"),_a((xa=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(k["a"])(Object(O["a"])(t),"fips",null),Object(k["a"])(Object(O["a"])(t),"mountmap",!1),Object(k["a"])(Object(O["a"])(t),"showmap",!1),t}return Object(j["a"])(a,[{key:"onRouteChange",value:function(){this.fips=this.$route.params.fips,this.togglemap()}},{key:"changeFips",value:function(t){this.$router.push("/county/"+t)}},{key:"mounted",value:function(){this.fips=this.$route.params.fips,this.togglemap()}},{key:"togglemap",value:function(){var t=this;this.fips||(this.mountmap=!0,this.showmap=!0,this.$nextTick((function(){t.$root.map&&t.$root.map.resize()}))),this.fips&&(this.showmap=!1)}}]),a}(d["c"]),Oa=xa,Object(D["a"])(Oa.prototype,"onRouteChange",[wa],Object.getOwnPropertyDescriptor(Oa.prototype,"onRouteChange"),Oa.prototype),ja=Oa))||ja),Ra=Ta,Ma=Object(m["a"])(Ra,g,_,!1,null,null,null),Na=Ma.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TopMenu"),a("div",{staticClass:"page"},[a("br"),a("div",{staticClass:"county-selecter"},[a("p",[t._v(" List counties you'd like to compare"),a("br"),a("MultipleCountySelecter",{attrs:{placeholder:"Enter counties to compare"},model:{value:t.fips,callback:function(e){t.fips=e},expression:"fips"}})],1),a("p",[t._v(" Or.. select multiple counties from an EDA region"),a("br"),a("RegionSelecter",{on:{select:t.regionSelected}})],1)]),a("br"),t.fips.length>0&&t.fips.length<=6?a("table",{staticClass:"table"},[a("thead",[a("tr",t._l(t.fips,(function(e){return a("th",{key:e},[t.counties[e]&&!t.counties[e].loading?a("h3",[t._v(" "+t._s(t.counties[e].county)),t.stateDiffers?a("small",[t._v(", "+t._s(t.counties[e].state))]):t._e()]):t._e()])})),0)]),a("tbody",[a("tr",t._l(t.fips,(function(e){return a("td",{key:e},[t.counties[e]&&!t.counties[e].loading?a("div",[a("h4",[t._v("Population")]),a("span",{staticClass:"primary"},[t._v(t._s(t._f("formatNumber")(t.counties[e].population)))]),a("h4",[t._v("Population Density")]),a("span",{staticClass:"primary"},[t._v(t._s(t._f("formatNumber")(t.counties[e].popdensity)))]),t._v(" people per sq. mile. "),a("h4",[t._v("GDP")]),a("span",{staticClass:"primary"},[t._v("$"+t._s(t._f("formatNumber")(t.counties[e].gdp/1e3)))]),t._v(" M "),a("h4",[t._v("Per Capita Income")]),a("span",{staticClass:"primary"},[t._v("$"+t._s(t._f("formatNumber")(t.counties[e].percapitaincome)))]),a("h4",[t._v("Median Household Income")]),a("span",{staticClass:"primary"},[t._v("$"+t._s(t._f("formatNumber")(t.counties[e].medianincome)))])]):t._e(),a("br"),a("br"),a("hr")])})),0)])]):t._e(),a("ExportablePlotly",{attrs:{data:t.uGraphData,layout:t.uGraphLayout}}),a("ExportablePlotly",{attrs:{data:t.popGraphData,layout:t.popGraphLayout}}),a("h4",[t._v("Business Vulnerability")]),t._l(t.errors.bvis,(function(e,i){return a("el-alert",{key:i,attrs:{type:"info"}},[t._v(t._s(e))])})),t._l(t.bvis,(function(e){return a("div",{key:e.naics},[a("p",[a("b",[a("NaicsInfo",{attrs:{id:e.naics}})],1)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Vulnerable Establishments")])]),a("ExportablePlotly",{attrs:{data:e.estTraces,layout:t.bviLayout}})],1),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{margin:"0"}},[a("small",[t._v("Vulnerable Employment")])]),a("ExportablePlotly",{attrs:{data:e.empTraces,layout:t.bviLayout}})],1)],1)],1)})),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")],2),a("Footer")],1)},Ba=[],Fa=(a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.countyList?a("el-select",{staticClass:"county-selecter",staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",clearable:"",remote:"","remote-method":t.searchCounty,loading:t.loading,placeholder:"Search county",size:"large"},on:{change:t.change},model:{value:t.myfips,callback:function(e){t.myfips=e},expression:"myfips"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])})),1):t._e()],1)}),Ha=[],Ga={props:{value:Array},data:function(){return{countyList:null,options:[],myfips:[],loading:!1}},watch:{value:function(t){this.preselect(t)}},mounted:function(){var t=this;fetch(this.$root.dataUrl+"/countylist.json").then((function(t){return t.json()})).then((function(e){t.countyList=e}))},methods:{searchCounty:function(t){if(this.options=[],!(t.length<3)){this.loading=!0;var e=t.toLowerCase();this.options=this.countyList.filter((function(t){return!!t.label.toLowerCase().includes(e)||!!t.value.toString().includes(e)})),this.loading=!1}},preselect:function(t){var e=this;if(!this.countyList)return setTimeout((function(){e.preselect(t)}),1e3);this.myfips=t,this.options=this.countyList.filter((function(t){return e.myfips.includes(t.value)}))},change:function(){this.$emit("input",this.myfips)}}},Ya=Ga,Ua=(a("9d85"),Object(m["a"])(Ya,Fa,Ha,!1,null,null,null)),Va=Ua.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{staticClass:"region-selecter",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",loading:t.loading,placeholder:t.placeholder,size:"large"},on:{change:t.change},model:{value:t.myid,callback:function(e){t.myid=e},expression:"myid"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),a("small",{staticStyle:{"margin-left":"10px"}},[t._v("("+t._s(e.fips.length)+" counties)")])])})),1)},Za=[],qa={props:{id:String,placeholder:{type:String,default:"Search EDD Region"}},data:function(){return{regionList:null,options:[],myid:null,loading:!1}},watch:{id:function(t){this.myid=t}},mounted:function(){var t=this;fetch(this.$root.dataUrl+"/regionlist.json").then((function(t){return t.json()})).then((function(e){for(var a in t.regionList=e,t.myid=t.id,t.regionList){var i=t.regionList[a];t.options.push({value:a,label:i.name,fips:i.fips})}}))},methods:{change:function(){this.myid?this.$emit("select",{id:this.myid,fips:this.regionList[this.myid].fips}):this.$emit("select",{id:null,fips:[]})}}},Ja=qa,Qa=(a("2d37"),Object(m["a"])(Ja,Wa,Za,!1,null,null,null)),Xa=Qa.exports,Ka=(Ca=Object(d["a"])({components:{TopMenu:V,CountySelecter:Se,RegionSelecter:Xa,ExportablePlotly:qe,MultipleCountySelecter:Va,NaicsInfo:je,Footer:mt}}),ka=Object(d["d"])("$route"),Da=Object(d["d"])("fips"),Ca((Aa=function(t){Object(x["a"])(a,t);var e=Object(C["a"])(a);function a(){var t;Object(w["a"])(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s)),Object(k["a"])(Object(O["a"])(t),"fips",[]),Object(k["a"])(Object(O["a"])(t),"counties",{}),Object(k["a"])(Object(O["a"])(t),"errors",{bvis:[]}),Object(k["a"])(Object(O["a"])(t),"uGraphLayout",{title:{text:"Unemployment Rate",font:{family:"Avenir,Helvetica,Arial,sans-serif",size:17,bold:!0,color:"#666"},x:0,y:.7},height:350,margin:{l:30,r:20},legend:{orientation:"h",x:0,y:2.2},yaxis:{rangemode:"tozero",ticksuffix:"%"}}),Object(k["a"])(Object(O["a"])(t),"popGraphLayout",{title:{text:"Population",font:{family:"Avenir,Helvetica,Arial,sans-serif",size:17,bold:!0,color:"#666"},x:0},height:175,margin:{l:30,r:20,t:30,b:20},showlegend:!1,yaxis:{rangemode:"tozero"}}),Object(k["a"])(Object(O["a"])(t),"bviLayout",{height:175,margin:{l:30,r:30,t:10,b:30},showlegend:!1,xaxis:{type:"category"},yaxis:{rangemode:"tozero"}}),t}return Object(j["a"])(a,[{key:"onRouteChange",value:function(t,e){}},{key:"onFipsChange",value:function(){var t=this;this.fips.forEach((function(e){t.counties[e]||(d["c"].set(t.counties,e,{loading:!0}),fetch(t.$root.dataUrl+"/counties/county."+e+".json").then((function(t){return t.json()})).then((function(a){d["c"].set(t.counties,e,a)})))}))}},{key:"regionSelected",value:function(t){t.id;var e=t.fips;this.fips=e}},{key:"mounted",value:function(){this.fips=this.$route.params.fips.split(",")}},{key:"selectRegion",value:function(t){t.fips,t.id}},{key:"stateDiffers",get:function(){var t=this,e=!1,a=null;return this.fips.forEach((function(i){null==a&&(a=t.counties[i].state),t.counties[i].state!=a&&(e=!0)})),e}},{key:"uGraphData",get:function(){var t=this,e=[];return this.fips.forEach((function(a){if(t.counties[a]){var i=t.counties[a];i.loading||e.push({x:i.distress_ur.date,y:i.distress_ur.rate,name:i.county+","+i.state,line:{width:1},showlegend:!0})}})),e}},{key:"popGraphData",get:function(){var t=this,e=[];return this.fips.forEach((function(a){if(t.counties[a]){var i=t.counties[a];if(!i.loading){var s=[];i.pops.groups.forEach((function(t){t.y.forEach((function(t,e){s[e]||(s[e]=0),s[e]+=t}))})),e.push({x:i.pops.years,y:s,name:i.county+","+i.state,line:{width:1}})}}})),e}},{key:"bvis",get:function(){var t=this;this.errors.bvis=[];var e=[],a=[];this.fips.forEach((function(i){if(t.counties[i]){var s=t.counties[i];if(!s.loading)for(var n in s.bvis2){var r=s.bvis2[n];if(!r)return;var o=!1;r.estab_v.forEach((function(t){0!=t&&(o=!0)})),r.emp_v.forEach((function(t){0!=t&&(o=!0)})),o&&!e.includes(n)&&e.push(n),r.years.forEach((function(t){a.includes(t)||a.push(t)}))}}})),a.sort();var i=[];return e.forEach((function(e){var s=[],n=[];t.fips.forEach((function(i){if(t.counties[i]){var r=t.counties[i];if(!r.loading){var o=r.bvis2[e];if(o){var l=[],c=[];a.forEach((function(t){var e=o.years.indexOf(t);~e?(l.push(o.estab_v[e]),c.push(o.emp_v[e])):(l.push(0),c.push(0))})),s.push({x:a,y:l,name:r.county+","+r.state,mode:"lines",line:{width:1},fill:"tozeroy",fillcolor:"rgba(0,0,0,0.02)"}),n.push({x:a,y:c,name:r.county+","+r.state,mode:"lines",line:{width:1},fill:"tozeroy",fillcolor:"rgba(0,0,0,0.02)"})}else t.errors.bvis.push("No BVI("+e+") information for "+r.county)}}})),i.push({naics:e,estTraces:s,empTraces:n})})),i}}]),a}(d["c"]),Ea=Aa,Object(D["a"])(Ea.prototype,"onRouteChange",[ka],Object.getOwnPropertyDescriptor(Ea.prototype,"onRouteChange"),Ea.prototype),Object(D["a"])(Ea.prototype,"onFipsChange",[Da],Object.getOwnPropertyDescriptor(Ea.prototype,"onFipsChange"),Ea.prototype),Sa=Ea))||Sa),ti=Ka,ei=(a("99d7"),Object(m["a"])(ti,za,Ba,!1,null,"12d73798",null)),ai=ei.exports;i["default"].use(b["a"]);var ii=[{path:"/",component:Na},{path:"/county/:fips",component:Na},{path:"/compare/:field/:fips",component:ai}],si=new b["a"]({base:"/projects/apred/",routes:ii}),ni=si,ri=a("bc3a"),oi=a.n(ri),li=a("a7fe"),ci=a.n(li),ui=a("0284"),pi=a.n(ui),di=a("1232");i["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},i["default"].use(o.a,{locale:n.a}),i["default"].config.productionTip=!1,i["default"].use(ci.a,oi.a),i["default"].use(pi.a,{id:"UA-161425227-2"}),new i["default"]({data:function(){var t="https://api.ctil.iu.edu/pub";return"localhost"==location.hostname&&(t="https://gpu1-pestillilab.psych.indiana.edu/apred"),{dataUrl:t,drMeasures:{},medianIncomeHistogram:{},perCapitaIncomeHistogram:{},gdpHistogram:{},populationHistogram:{},popdensityHistogram:{},unempUS:{},commonReady:!1,user:null,map:null,layers:{hurricane:{color:"#0af",types:["Hurricane"],zIndex:5},tornado:{color:"#f6f",types:["Tornado"],zIndex:6},"severe storm":{color:"#fa0",types:["Severe Storm(s)"],zIndex:7},flood:{color:"#06f",types:["Flood"],zIndex:8},fire:{color:"#f00",types:["Fire"],zIndex:9},biological:{color:"#396",opacity:.5,types:["Biological"],zIndex:0},other:{color:"#999",types:["EarthQuake","Coastal Storm","Snow","Mud/Landslide","Volcano","Dam/Levee Break","Severe Ice Storm"],zIndex:1}}}},mounted:function(){var t=this,e=new URLSearchParams(window.location.search);e.has("jwt")&&(localStorage.setItem("jwt",e.get("jwt")),window.location.search="");var a=localStorage.getItem("jwt");a&&(this.user=Object(di["a"])(a),this.user.exp<(new Date).getTime()/1e3?(localStorage.removeItem("jwt"),this.user=null):oi.a.defaults.headers.common["Authorization"]="Bearer "+a),fetch(this.dataUrl+"/raw/dr_measure.json").then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.drMeasures[e.measure]={name:e["measure_name"],desc:e["measure_desc"],calcDesc:e["measure_calculation_desc"]}}))})),fetch(this.dataUrl+"/common.json").then((function(t){return t.json()})).then((function(e){t.medianIncomeHistogram=e.histograms.medianIncome,t.perCapitaIncomeHistogram=e.histograms.perCapitaIncome,t.gdpHistogram=e.histograms.gdp,t.populationHistogram=e.histograms.population,t.popdensityHistogram=e.histograms.popdensity,t.unempUS=e.unemp_us,t.commonReady=!0,t.$forceUpdate()}))},methods:{signout:function(){localStorage.removeItem("jwt"),window.location.reload()}},router:ni,render:function(t){return t(v)}}).$mount("#app")},d314:function(t,e,a){"use strict";var i=a("e036"),s=a.n(i);s.a},d5e2:function(t,e,a){},e036:function(t,e,a){},e47d:function(t,e,a){"use strict";var i=a("1475"),s=a.n(i);s.a},fc79:function(t,e,a){}});
//# sourceMappingURL=app.7d09b4c0.js.map